# 4. 안티 패턴

## 4.1 안티 패턴이란?

앤드루 케이니그가 GoF의 저서인 '디자인패턴'에서 영감을 받아 1995년 집필한 학술지 'Journal of OOP'에서 처음 사용된 용어입니다. 안티 패턴은 **겉으로만 해결책처럼 보이는 패턴**을 의미합니다.

안티 패턴의 두 가지 측면
- **문제 상황에 대한 잘못된 해결책**
- **문제 상황에서 벗어나 올바른 해결책에 이르는 방법**

안티 패턴을 이해하는 것은 디자인 패턴을 아는 것만큼이나 중요합니다.


안티 패턴을 알면 다음과 같은 이점이 있습니다.
- 패턴을 잘못 도입하는 실수를 피할 수 있습니다.
- 완벽한 설계도 잘못된 상황에서 사용된다면 안티 패턴이 될 수 있음을 인지할 수 있습니다.

## 4.2 자바스크립트 안티 패턴

자바스크립트에서 흔히 볼 수 있는 안티 패턴들

### 전역 네임스페이스 오염
전역 컨텍스트에서 수많은 변수를 정의하여 전역 네임스페이스를 오염시키는 패턴

### eval() 사용
`setTimeout`이나 `setInterval`에 함수가 아닌 문자열을 전달해 내부적으로 `eval()`이 실행되게 하는 패턴

### 네이티브 프로토타입 수정
Object 클래스의 프로토타입을 수정하는 패턴

#### 예시
🧩 **안티 패턴 퀴즈**: 다음 문제를 해결해보세요!

```javascript
// 문제
const a = '123';
const b = 456;
// 여기에 코드를 추가해 c.toString()이 '579'가 되도록 만들기
const c = a + b;
if (c.toString() === '579') {
   console.log('correct!');
}

//해결책은?
```

<details>
<summary>정답 보기 (주의: 안티 패턴입니다!)</summary>

```javascript
// 안티 패턴 해결책
String.prototype.toString = (function(_) {
  return () => { return '579' }
})();
```
</details>

### 인라인 자바스크립트 사용
자바스크립트를 인라인으로 사용해 유연성을 떨어뜨리는 패턴

### document.write 사용
`document.createElement` 대신 `document.write`를 사용하는 패턴

#### document.write의 문제점
- 페이지 로드 후 실행 시 기존 내용을 덮어씌움
- XHTML에서는 작동하지 않음
- DOM API와 친화적이지 않음

#### XHTML이란?
XHTML(Extensible HyperText Markup Language)은 HTML을 XML의 규칙에 맞게 재정의한 마크업 언어입니다. 더 엄격한 구문 규칙을 따르며, 모든 태그는 닫혀야 하고 속성값은 따옴표로 묶여야 합니다.