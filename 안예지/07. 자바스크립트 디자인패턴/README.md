# 7. ìë°”ìŠ¤í¬ë¦½íŠ¸ ë””ìì¸íŒ¨í„´

## 7.1 ìƒì„± íŒ¨í„´

- ìƒì„±ì íŒ¨í„´
- ëª¨ë“ˆ íŒ¨í„´
- ë…¸ì¶œ ëª¨ë“ˆ íŒ¨í„´
- ì‹±ê¸€í†¤ íŒ¨í„´
- í”„ë¡œí† íƒ€ì… íŒ¨í„´

## 7.2 ìƒì„±ì íŒ¨í„´

ìƒì„±ì íŒ¨í„´ì€ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì´ˆê¸°í™”í•˜ëŠ” íŠ¹ë³„í•œ ë©”ì„œë“œë¥¼ í†µí•´ ìœ ì‚¬í•œ ê°ì²´ë¥¼ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ë¥¼ ìƒì„±ìë¡œ ì‚¬ìš©í•´ ê°ì²´ì˜ ì´ˆê¸° ìƒíƒœì™€ ë™ì‘ì„ ì •ì˜í•˜ê³ , new í‚¤ì›Œë“œë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ì½”ë“œ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³  ê°ì²´ ìƒì„± ë¡œì§ì„ ìº¡ìŠí™”í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.

ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•

```tsx
// ë¦¬í„°ëŸ´ í‘œê¸°ë²•
const newObject = {};

// Object.create() ë©”ì„œë“œ
const newObject = Object.create(Object.prototype);

// new í‚¤ì›Œë“œ
const newObject = new Object();
```

ê°ì²´ì— í‚¤ì™€ ê°’ì„ í• ë‹¹í•˜ëŠ” ë°©ë²•

```tsx
// Dot ë¬¸ë²•
newObject.someKey = 'some value';
// ëŒ€ê´„í˜¸ ë¬¸ë²•
newObject['someKey']= 'some value';

// ES5ë§Œ í˜¸í™˜ë˜ëŠ” ë°©ì‹ - defineProperty ì†ì„± í™œìš©
Object.defineProperty(newObject, 'someKey', {
	value: 'some value',
	writable: true,
	enumarable: true,
	configuarable: true,
})

// defineProperties í™œìš©
Object.defineProperties(newObject, {
	'someKey': {
		value: 'some value',
		writable: true,
		enumarable: true,
		configuarable: true,
	},
	...
})
```

## 7.2.3 í”„ë¡œí† íƒ€ì…ì„ ê°€ì§„ ìƒì„±ì
í”„ë¡œí† íƒ€ì… ê°ì²´ì˜ ì¬ì •ì˜ë¥¼ í”¼í•˜ê¸° ìœ„í•´ Object.prototype ëŒ€ì‹  Object.prototype.newMethod í˜•íƒœë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŒì— ìœ ì˜í•©ì‹œë‹¤.


ê¸°ì¡´ì— ì •ì˜ëœ í”„ë¡œí† íƒ€ì… ê°ì²´ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ì„œ ì…ë‹ˆë‹¤.

```javascript
// ì•ˆ ì¢‹ì€ ë°©ì‹ - í”„ë¡œí† íƒ€ì… ê°ì²´ ì „ì²´ë¥¼ ì¬ì •ì˜
// ì´ë ‡ê²Œ í•˜ë©´ ê¸°ì¡´ì˜ ë‚´ì¥ ë©”ì„œë“œ(toString, valueOf ë“±)ê°€ ëª¨ë‘ ì‚¬ë¼ì§
Object.prototype = {
  newMethod: function() { 
    console.log("ìƒˆ ë©”ì„œë“œ ì‹¤í–‰"); 
  }
  // ê¸°ì¡´ ë‚´ì¥ ë©”ì„œë“œë“¤ì´ ì‚¬ë¼ì ¸ì„œ ë¬¸ì œ ë°œìƒ!
};

// ì¢‹ì€ ë°©ì‹ - ê¸°ì¡´ í”„ë¡œí† íƒ€ì…ì€ ìœ ì§€í•˜ë©´ì„œ ìƒˆ ë©”ì„œë“œë§Œ ì¶”ê°€
Object.prototype.newMethod = function() { 
  console.log("ìƒˆ ë©”ì„œë“œ ì‹¤í–‰"); 
};
// ì´ ë°©ì‹ì€ toString, valueOf ë“±ì˜ ê¸°ì¡´ ë‚´ì¥ ë©”ì„œë“œë¥¼ ìœ ì§€í•˜ë©´ì„œ ìƒˆë¡œìš´ ë©”ì„œë“œë§Œ ì¶”ê°€í•¨
```

### ë¶€ë¡: ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ ë‹¤ë¥¸ ì–¸ì–´ì˜ ìƒì„±ì ë¹„êµ

ê° í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë§ˆë‹¤ í´ë˜ìŠ¤ ë° ìƒì„±ìë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ì‹ì— ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

#### ìë°”ìŠ¤í¬ë¦½íŠ¸ (JavaScript)
```javascript
class Person {
  constructor(name) {
    this.name = name;
  }

  greet() {
    console.log(`Hello, ${this.name}`);
  }
}

const p = new Person('Alice');
p.greet();
```
- **íŠ¹ì§•**
  - `constructor`ë¼ëŠ” ê³ ì •ëœ ë©”ì„œë“œ ì´ë¦„ ì‚¬ìš© (ë³€ê²½ ë¶ˆê°€)
  - ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ì „ìš©
  - ìƒì„±ìë¥¼ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ìƒì„±ì(ë¹ˆ constructor)ê°€ ìë™ìœ¼ë¡œ ì œê³µë¨
  - ì˜¤ë²„ë¡œë”© ë¶ˆê°€ëŠ¥ (ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë©”ì„œë“œ ì˜¤ë²„ë¡œë”© ê°œë…ì´ ì—†ìŒ)

#### ìë°” (Java)
```java
public class Person {
  private String name;

  // ìƒì„±ì - í´ë˜ìŠ¤ ì´ë¦„ê³¼ ë™ì¼í•´ì•¼ í•¨
  public Person(String name) {
    this.name = name;
  }

  public void greet() {
    System.out.println("Hello, " + this.name);
  }
}
```
- **íŠ¹ì§•**
  - í´ë˜ìŠ¤ ì´ë¦„ê³¼ ë™ì¼í•œ ì´ë¦„ì˜ ë©”ì„œë“œê°€ ìƒì„±ì
  - ì˜¤ë²„ë¡œë”© ê°€ëŠ¥ (ë§¤ê°œë³€ìˆ˜ê°€ ë‹¤ë¥¸ ì—¬ëŸ¬ ìƒì„±ì ì„ ì–¸ ê°€ëŠ¥)

#### Python
```python
class Person:
    def __init__(self, name):
        self.name = name

    def greet(self):
        print(f"Hello, {self.name}")
```
- **íŠ¹ì§•**
  - ê³ ì •ëœ ì´ë¦„ `__init__` ì‚¬ìš© (ì–¸ì–´ ê·œì¹™ìƒ ë³€ê²½ ë¶ˆê°€)
  - í•˜ë‚˜ë§Œ ì¡´ì¬, ì˜¤ë²„ë¡œë”©ì€ ì–¸ì–´ ì°¨ì›ì—ì„œ ì§€ì› ì•ˆ í•¨ (ë””í´íŠ¸ ì¸ìë¥¼ í™œìš©í•˜ê±°ë‚˜ ë¡œì§ìœ¼ë¡œ ì²˜ë¦¬)

#### ë¹„êµ ìš”ì•½
| ì–¸ì–´ | ìƒì„±ì ëª…ëª… ê·œì¹™ | ì˜¤ë²„ë¡œë”© ê°€ëŠ¥ ì—¬ë¶€ |
|------|-------------------|-------------------|
| JavaScript | `constructor` ê³ ì • | ë¶ˆê°€ëŠ¥ (JSëŠ” ì˜¤ë²„ë¡œë”© ê°œë… ì—†ìŒ) |
| Java | í´ë˜ìŠ¤ ì´ë¦„ê³¼ ë™ì¼ | ê°€ëŠ¥ |
| Python | `__init__` ê³ ì • | ë¶ˆê°€ëŠ¥ (ê°€ë³€ ì¸ì ì²˜ë¦¬ë¡œ ìš°íšŒ) |
| TypeScript | `constructor` ê³ ì • (JSì™€ ë™ì¼) | ë¶ˆê°€ëŠ¥ (ì˜¤ë²„ë¡œë”© ì‹œê·¸ë‹ˆì²˜ë§Œ ê°€ëŠ¥, êµ¬í˜„ì€ í•˜ë‚˜) |

#### ê²°ë¡  ë° ì‹¤ë¬´ì  ì°¨ì´
- **JS/Python**
  - ê³ ì •ëœ ì´ë¦„ì„ ì‚¬ìš©í•˜ë©° ì˜¤ë²„ë¡œë”©ì´ ë¶ˆê°€ëŠ¥
  - ìƒì„±ì ë…¼ë¦¬ë¥¼ ê°€ë³€ ì¸ì ì²˜ë¦¬ë‚˜ ì¡°ê±´ ë¶„ê¸°ë¡œ ìœ ì—°í•˜ê²Œ êµ¬í˜„

- **Java**
  - í´ë˜ìŠ¤ëª…ê³¼ ë™ì¼í•œ ìƒì„±ìëª…
  - ì˜¤ë²„ë¡œë”© ì§€ì›ìœ¼ë¡œ ë‹¤ì–‘í•œ ì´ˆê¸°í™” ë°©ì‹ ì œê³µ

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í•¨ìˆ˜ ê¸°ë°˜ ì–¸ì–´ì˜ íŠ¹ì„±ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œë„ í´ë˜ìŠ¤ ë¬¸ë²•ì„ í‰ë‚´ë‚¸ ê²ƒì´ë¯€ë¡œ, ìë°”ì™€ ë¬¸ë²•ë§Œ ë¹„ìŠ·í•  ë¿ ë‚´ë¶€ ë™ì‘ê³¼ ìœ ì—°ì„±ì€ í•¨ìˆ˜ ì§€í–¥ì  íŠ¹ì„±ì´ ë” ê°•í•©ë‹ˆë‹¤.

### ë¶€ë¡: ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ constructor í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

#### ì™œ "í´ë˜ìŠ¤ëª…ê³¼ ê°™ì€ ì´ë¦„ì˜ ìƒì„±ì"ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì±„íƒí•˜ì§€ ì•Šì•˜ì„ê¹Œ?

##### 1. ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì›ë˜ í´ë˜ìŠ¤ ê¸°ë°˜ ì–¸ì–´ê°€ ì•„ë‹ˆì—ˆìŒ
ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í•¨ìˆ˜ ê¸°ë°˜ í”„ë¡œí† íƒ€ì… ì–¸ì–´ë¡œ ì¶œë°œí–ˆìŠµë‹ˆë‹¤. í´ë˜ìŠ¤ ë¬¸ë²•ì€ ES6(2015)ì— ì™€ì„œì•¼ ë„ì…ëê³ , ì‚¬ì‹¤ìƒ í•¨ìˆ˜ ê¸°ë°˜ì„ ê°ì¶˜ ë¬¸ë²•ì  ì„¤íƒ•(Syntax Sugar)ì…ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì—¬ì „íˆ ì´ë ‡ê²Œ ë™ì‘í•©ë‹ˆë‹¤.

```javascript
// ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´
class Person {
  constructor(name) {
    this.name = name;
  }
}

// ì‚¬ì‹¤ìƒ ì´ë ‡ê²Œ ë™ì‘í•©ë‹ˆë‹¤
function Person(name) {
  this.name = name;
}
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ í´ë˜ìŠ¤ëŠ” ì§„ì§œ í´ë˜ìŠ¤ê°€ ì•„ë‹ˆê³ , í•¨ìˆ˜ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê±¸ í¬ì¥í•œ ë¬¸ë²•ì¼ ë¿ì…ë‹ˆë‹¤.

##### 2. í´ë˜ìŠ¤ëª…ê³¼ ë©”ì„œë“œëª… ì¶©ëŒ ìœ„í—˜
ë§Œì•½ ì´ëŸ° ì‹ìœ¼ë¡œ ì‘ì„±í•œë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤.

```javascript
class Person {
  person() {  // í´ë˜ìŠ¤ëª…ê³¼ ê°™ì€ ë©”ì„œë“œëª…
    console.log('Something else');
  }
}
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì†Œë¬¸ì/ëŒ€ë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ë§Œ, ë¬¸ë²•ì ìœ¼ë¡œ í´ë˜ìŠ¤ ì´ë¦„ê³¼ ë©”ì„œë“œ ì´ë¦„ì´ ë…ë¦½ì ì´ê¸° ë•Œë¬¸ì— **"í´ë˜ìŠ¤ëª…ê³¼ ê°™ì€ ë©”ì„œë“œëª…ì„ ì–¼ë§ˆë“ ì§€ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤."**

ì´ê²Œ ê°€ëŠ¥í•˜ë‹¤ ë³´ë‹ˆ, ë©”ì„œë“œ ì´ë¦„ê³¼ ìƒì„±ì ì´ë¦„ì„ ì¼ì¹˜ì‹œí‚¤ëŠ” ê·œì¹™ì„ ë§Œë“¤ë©´ í˜¼ë€ì´ ë°œìƒí•  ì—¬ì§€ê°€ í½ë‹ˆë‹¤. ê·¸ë˜ì„œ "ìƒì„±ìëŠ” ë°˜ë“œì‹œ constructor"ë¼ê³  ê³ ì •ëœ í‚¤ì›Œë“œë¥¼ ë¶€ì—¬í•´ "ì´ê²Œ ìƒì„±ìì…ë‹ˆë‹¤"ë¼ê³  ëª…í™•í•˜ê²Œ ì„ ì–¸í•˜ê²Œ ë§Œë“  ê²ƒì…ë‹ˆë‹¤.

##### 3. ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì´ ì¬í• ë‹¹ ê°€ëŠ¥
ìë°”ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì´ íƒ€ì…ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆì§€ë§Œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í´ë˜ìŠ¤ë„ ë³€ìˆ˜ì´ê¸° ë•Œë¬¸ì— ì¬í• ë‹¹ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```javascript
class Person {}
Person = 'not a class anymore';  // ì´ëŸ° ì¬í• ë‹¹ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤
```

ì´ëŸ° ì–¸ì–´ì  íŠ¹ì„±ìƒ, í´ë˜ìŠ¤ëª…ê³¼ ë©”ì„œë“œëª…ì„ ì¼ì¹˜ì‹œí‚¤ëŠ” ê²ƒë³´ë‹¤ ê³ ì •ëœ constructor í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ë” ì•ˆì „í•©ë‹ˆë‹¤.

##### 4. ë™ì  í´ë˜ìŠ¤ ì„ ì–¸ì„ ì§€ì›
ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì¡°ì°¨ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
const className = 'Person';
const DynamicClass = class {
  constructor() {}
};
```

ìë°”ëŠ” í´ë˜ìŠ¤ëª…ê³¼ ìƒì„±ìëª…ì´ ì¼ì¹˜í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì´ëŸ° ë™ì  ì„ ì–¸ì´ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ë¦„ì´ ê³ ì •ë˜ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì— ê³ ì •ëœ constructor í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ í•©ë¦¬ì ì…ë‹ˆë‹¤.

#### í´ë˜ìŠ¤ëª…ê³¼ ìƒì„±ìëª…ì„ ì¼ì¹˜ì‹œí‚¤ë©´ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

ìë°”ì²˜ëŸ¼ í´ë˜ìŠ¤ëª…ê³¼ ìƒì„±ìëª…ì„ ì¼ì¹˜ì‹œí‚¬ ìˆ˜ë„ ìˆì—ˆê² ì§€ë§Œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ íŠ¹ì„±(í•¨ìˆ˜ ê¸°ë°˜, ë™ì  ì„ ì–¸, ë³€ìˆ˜ ì¬í• ë‹¹ ê°€ëŠ¥ì„±) ë•Œë¬¸ì— ëª…í™•í•˜ê²Œ ê³ ì •ëœ constructor í‚¤ì›Œë“œë¥¼ ë„ì…í•˜ëŠ” ê²Œ ë” ì•ˆì „í•˜ê³  ì¼ê´€ëœ ì„ íƒì´ì—ˆìŠµë‹ˆë‹¤.

## ë¶€ë¡: JavaScript ClassëŠ” ë¬¸ë²•ì  ì„¤íƒ•(Syntactic Sugar)ì¸ê°€? ì— ëŒ€í•œ ë…¼ì˜

### ë¬¸ë²•ì  ì„¤íƒ•(Syntactic Sugar)ì´ë€?

ë¬¸ë²•ì  ì„¤íƒ•ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ ê¸°ì¡´ ê¸°ëŠ¥ì„ ë” ì½ê¸° ì‰½ê³  í‘œí˜„í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ë¬¸ë²•ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¦‰, ì–¸ì–´ì˜ ê¸°ëŠ¥ê³¼ í‘œí˜„ë ¥ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ê°œë°œìê°€ ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” êµ¬ë¬¸ì…ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í´ë˜ìŠ¤ê°€ ë¬¸ë²•ì  ì„¤íƒ•ì´ë‹¤ ë¼ëŠ” í‘œí˜„ì— ë°˜ëŒ€í•˜ëŠ” ì˜ê²¬ì´ ì¢…ì¢… ìˆì—ˆë˜ ê±¸ë¡œ ê¸°ì–µí•©ë‹ˆë‹¤.

1. **ë‹¨ìˆœ ì„¤íƒ• ì´ìƒì´ë¼ëŠ” ì˜ê²¬**

   - í´ë˜ìŠ¤ëŠ” `new` í‚¤ì›Œë“œ ì—†ì´ í˜¸ì¶œí•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒ
   - í•­ìƒ strict modeë¡œ ì‹¤í–‰
   - `super` í‚¤ì›Œë“œë¥¼ í†µí•œ ë¶€ëª¨ í´ë˜ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ ì§€ì›
   - ë¹„ê³µê°œ í•„ë“œì™€ ë©”ì„œë“œ(`#` ì ‘ë‘ì‚¬) ì§€ì›

2. **ë¬¸ë²•ì  ì„¤íƒ•ì´ë¼ëŠ” ì˜ê²¬**
   - ë‚´ë¶€ì ìœ¼ë¡œ ì—¬ì „íˆ í”„ë¡œí† íƒ€ì… ê¸°ë°˜ìœ¼ë¡œ ë™ì‘
   - ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í´ë˜ìŠ¤ëŠ” ê²°êµ­ í•¨ìˆ˜ íƒ€ì…

```javascript
// ES5 ë°©ì‹ì˜ í”„ë¡œí† íƒ€ì… ê¸°ë°˜ ì½”ë“œ
function Person(name) {
  this.name = name;
}

Person.prototype.sayHi = function () {
  console.log("Hi, I am " + this.name);
};

// ES6 ë°©ì‹ì˜ í´ë˜ìŠ¤ ê¸°ë°˜ ì½”ë“œ (ë¬¸ë²•ì  ì„¤íƒ•)
class Person {
  constructor(name) {
    this.name = name;
  }

  sayHi() {
    console.log(`Hi, I am ${this.name}`);
  }
}
```

## ë¶€ë¡: Object.defineProperty ê°œìš”

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ Assignment(í• ë‹¹) ì—°ì‚°ìëŠ” ê°ì²´ì˜ ì†ì„±(property)ì„ ì„¤ì •í•˜ê±°ë‚˜ ë³€ê²½í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
Object.defineProperty()ì˜ writable ì†ì„±ì€ ì´ í• ë‹¹ ì—°ì‚°ìë¥¼ í†µí•œ ê°’ ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

```javascript
const obj = {};

// writable: falseë¡œ ì„¤ì •í•˜ë©´ í• ë‹¹ ì—°ì‚°ìë¡œ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŒ
Object.defineProperty(obj, "readOnly", {
  value: 10,
  writable: false,
});

// writable: trueë¡œ ì„¤ì •í•˜ë©´ í• ë‹¹ ì—°ì‚°ìë¡œ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆìŒ
Object.defineProperty(obj, "writable", {
  value: 20,
  writable: true,
});

obj.readOnly = 100; // ë¬´ì‹œë¨ (strict modeì—ì„œëŠ” ì—ëŸ¬ ë°œìƒ)
console.log(obj.readOnly); // 10

obj.writable = 200; // ì •ìƒ ì‘ë™
console.log(obj.writable); // 200
```

### ë¶€ë¡: Object.definePropertyì˜ ëª¨ë“  ì†ì„± ì˜µì…˜

Object.defineProperty()ë¡œ ì†ì„±ì„ ì •ì˜í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ì†ì„± ì˜µì…˜ë“¤ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. **ë°ì´í„° ì†ì„± ì„¤ëª…ì(Data Property Descriptor)**

   - **value**: ì†ì„±ì— ì—°ê²°ëœ ê°’
   - **writable**: í• ë‹¹ ì—°ì‚°ìë¥¼ í†µí•´ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ (boolean)
   - **enumerable**: for...in ë£¨í”„ë‚˜ Object.keys() ë“±ì—ì„œ ì—´ê±° ê°€ëŠ¥í•œì§€ ì—¬ë¶€ (boolean)
   - **configurable**: ì†ì„± ì„¤ëª…ìë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì†ì„±ì„ ì‚­ì œí•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ (boolean)

2. **ì ‘ê·¼ì ì†ì„± ì„¤ëª…ì(Accessor Property Descriptor)**

   - **get**: ì†ì„±ì„ ì½ì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ (getter)
   - **set**: ì†ì„±ì— ê°’ì„ í• ë‹¹í•  ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ (setter)
   - **enumerable**: for...in ë£¨í”„ë‚˜ Object.keys() ë“±ì—ì„œ ì—´ê±° ê°€ëŠ¥í•œì§€ ì—¬ë¶€ (boolean)
   - **configurable**: ì†ì„± ì„¤ëª…ìë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì†ì„±ì„ ì‚­ì œí•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ (boolean)

```javascript
const person = {};

// ë°ì´í„° ì†ì„± ì„¤ëª…ì ì‚¬ìš©
Object.defineProperty(person, "name", {
  value: "John", // ì†ì„± ê°’
  writable: true, // ê°’ ë³€ê²½ ê°€ëŠ¥
  enumerable: true, // ì—´ê±° ê°€ëŠ¥
  configurable: true, // ì„¤ëª…ì ë³€ê²½ ë° ì‚­ì œ ê°€ëŠ¥
});

// ì ‘ê·¼ì ì†ì„± ì„¤ëª…ì ì‚¬ìš©
Object.defineProperty(person, "fullName", {
  get: function () {
    return this.firstName + " " + this.lastName;
  },
  set: function (value) {
    const parts = value.split(" ");
    this.firstName = parts[0];
    this.lastName = parts[1];
  },
  enumerable: true,
  configurable: true,
});

// ì‚¬ìš© ì˜ˆì‹œ
person.firstName = "John";
person.lastName = "Doe";
console.log(person.fullName); // "John Doe"

person.fullName = "Jane Smith";
console.log(person.firstName); // "Jane"
console.log(person.lastName); // "Smith"
```

### ë¶€ë¡: ì†ì„± ì˜µì…˜ë“¤ì˜ ê¸°ë³¸ê°’

ì†ì„± ì„¤ëª…ìì˜ ì˜µì…˜ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ë³¸ê°’ì´ ì ìš©ë©ë‹ˆë‹¤.

```javascript
// ê¸°ë³¸ê°’ ì˜ˆì‹œ
Object.defineProperty(obj, "prop", {
  value: undefined,
  writable: false,
  enumerable: false,
  configurable: false,
});
```

ë°˜ë©´, ì¼ë°˜ì ì¸ í• ë‹¹(`obj.prop = value`)ìœ¼ë¡œ ì†ì„±ì„ ì •ì˜í•˜ë©´ ëª¨ë“  í”Œë˜ê·¸ê°€ trueë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

```javascript
const obj = {};
obj.prop = "value";

// ìœ„ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ë™ì¼í•©ë‹ˆë‹¤.
Object.defineProperty(obj, "prop", {
  value: "value",
  writable: true,
  enumerable: true,
  configurable: true,
});
```

ì´ëŸ¬í•œ ì†ì„± ì˜µì…˜ë“¤ì„ ì ì ˆíˆ í™œìš©í•˜ë©´ ê°ì²´ì˜ ì†ì„±ì„ ë³´ë‹¤ ì„¸ë°€í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 7.3 ëª¨ë“ˆ íŒ¨í„´

### 7.3.1 ëª¨ë“ˆ íŒ¨í„´ì˜ ê°œìš”

ì´ˆê¸° ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ëª¨ë“ˆì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- ê°ì²´ ë¦¬í„°ëŸ´ í‘œê¸°ë²•
- ëª¨ë“ˆ íŒ¨í„´
- AMD ëª¨ë“ˆ
- CommonJS ëª¨ë“ˆ

ES2015(ES6) ì´ì „ì—ëŠ” ëª¨ë“ˆ ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” CommonJS ëª¨ë“ˆì´ë‚˜ AMD ëª¨ë“ˆì´ ì£¼ë¡œ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.

[ê°ì²´ ë¦¬í„°ëŸ´ì— ëŒ€í•œ ê¸€](https://github.com/rmurphey/rmurphey/blob/master/public/blog/using-objects-to-organize-your-code.md)

ëª¨ë“ˆ íŒ¨í„´ì˜ í•µì‹¬ ê¸°ëŠ¥

- **ìº¡ìŠí™”**: ê°ì²´ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ìº¡ìŠí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **í´ë¡œì € í™œìš©**: ëª¨ë“ˆ íŒ¨í„´ì€ í´ë¡œì €ë¥¼ í™œìš©í•´ ë¹„ê³µê°œ ìƒíƒœì™€ êµ¬ì„±ì„ ìº¡ìŠí™”í•©ë‹ˆë‹¤.
- **ê³µê°œ API**: ëª¨ë“ˆ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ê³µê°œ APIë§Œ ë…¸ì¶œí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” í´ë¡œì € ë‚´ë¶€ì— ë¹„ê³µê°œë¡œ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ë§Œ ë…¸ì¶œí•˜ê³ , í•µì‹¬ ì‘ì—…ì€ ë³´í˜¸í•˜ëŠ” ê¹”ë”í•˜ê³  ì²´ê³„ì ì¸ êµ¬ì¡°ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë¹„ê³µê°œ êµ¬í˜„**: ES2019(ES10) ì´ì „ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì ‘ê·¼ ì œí•œì(# í•´ì‹œ)ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ ë¹„ê³µê°œë¼ëŠ” ê°œë…ì´ ì¡´ì¬í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¹ì‹œì—ëŠ” í•¨ìˆ˜ ìŠ¤ì½”í”„ë¥¼ ì´ìš©í•´ ë¹„ê³µê°œ ê°œë…ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- **WeakMap í™œìš©**: ë°˜í™˜ëœ ê°ì²´ì— í¬í•¨ëœ ë³€ìˆ˜ë¥¼ ë¹„ê³µê°œí•˜ë ¤ë©´ WeakMap()ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. WeakMapì€ ê°ì²´ë§Œ í‚¤ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° ìˆœíšŒê°€ ë¶ˆê°€ëŠ¥í•˜ê¸°ì— ê°ì²´ì˜ ì°¸ì¡°ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 7.3.3 WeakMapì„ ì‚¬ìš©í•œ private data ê´€ë¦¬ ì˜ˆì œ

```javascript
const privateData = new WeakMap();

class Person {
  constructor(name, age) {
    privateData.set(this, {
      name: name,
      age: age
    });
  }

  getName() {
    return privateData.get(this).name;
  }
  
  getAge() {
    return privateData.get(this).age;
  }
  
  setName(name) {
    const data = privateData.get(this);
    data.name = name;
  }
}

const person = new Person('ë”ê¸€ë¼ìŠ¤', 30);
console.log(person.getName()); // 'ë”ê¸€ë¼ìŠ¤'
console.log(person.getAge());  // 30

console.log(person.name);      // undefined
console.log(privateData.get(person).name); // 'ë”ê¸€ë¼ìŠ¤' (ì‹¤ì œë¡œëŠ” ì´ë ‡ê²Œ ì ‘ê·¼í•˜ì§€ ì•ŠìŒ)

person.setName('ìœ¼ì•„ì•„');
console.log(person.getName()); // 'ìœ¼ì•„ì•„'

// ê°ì²´ ì°¸ì¡°ê°€ ì‚¬ë¼ì§€ë©´ WeakMapì˜ ë°ì´í„°ë„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ëŒ€ìƒì´ ë¨
let tempPerson = new Person('ìµëª…ì˜ ì¸ë¬¼', 25);
console.log(tempPerson.getName()); // 'ìµëª…ì˜ ì¸ë¬¼'

// tempPerson ì°¸ì¡°ë¥¼ ì œê±°í•˜ë©´ WeakMapì— ì €ì¥ëœ ê´€ë ¨ ë°ì´í„°ë„ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë¨
tempPerson = null;
```

### 7.3.4 ëª¨ë“ˆ íŒ¨í„´ êµ¬í˜„ ì˜ˆì‹œ

```javascript
// ë¹„ê³µê°œ ë³€ìˆ˜ì™€ í•¨ìˆ˜
const basket = [];

const doSomethingPrivate = () => {
  //...
};

const doSomethingElsePrivate = () => {
  //...
};

// ê³µê°œ ê°ì²´ ìƒì„±
const basketModule = {
  // ì¥ë°”êµ¬ë‹ˆì— ì•„ì´í…œ ì¶”ê°€
  addItem(values) {
    basket.push(values);
  },

  // ì¥ë°”êµ¬ë‹ˆì˜ ì•„ì´í…œ ê°œìˆ˜ ë°˜í™˜
  getItemCount() {
    return basket.length;
  },

  // ë¹„ê³µê°œ í•¨ìˆ˜ì— ëŒ€í•œ ê³µê°œ ë³„ì¹­
  doSomething() {
    doSomethingPrivate();
  },

  // ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œì˜ ì´ ê°€ì¹˜ ê³„ì‚°
  // reduce() ë©”ì„œë“œëŠ” ë°°ì—´ì˜ ê° ìš”ì†Œì— í•¨ìˆ˜ë¥¼ ì ìš©í•˜ì—¬ ë‹¨ì¼ ê°’ìœ¼ë¡œ ì¤„ì…ë‹ˆë‹¤
  getTotal() {
    return basket.reduce((currentSum, item) => item.price + currentSum, 0);
  },
};

export default basketModule;
```

### 7.3.5 ëª¨ë“ˆ íŒ¨í„´ì˜ ë³€í˜•

#### 1. ë¯¹ìŠ¤ì¸ ê°€ì ¸ì˜¤ê¸° ë³€í˜•
Vueì—ì„œ ìì£¼ ë³¼ ìˆ˜ ìˆëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ë‹¤ë§Œ ì´ ë°©ì‹ì€ ì½”ë“œì˜ ë³µì¡ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Vueì˜ Mixinì„ ìƒê°í•´ë³´ë©´ ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.

#### 2. ë‚´ë³´ë‚´ê¸° ë³€í˜•
ì „ì—­ ìŠ¤ì½”í”„ì— ë³€ìˆ˜ë¡œ 'ë¹„ê³µê°œ'ë¥¼ ì„ ì–¸í•˜ê³  ëª¨ë“ˆì—ì„œ ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

```javascript
const privateVariable = "";
const privateMethod = () => {};

const module = {
  publicMethod: () => {
    console.log(privateVariable);
  },
};
```

### 7.3.6 ëª¨ë“ˆ íŒ¨í„´ì˜ ì¥ë‹¨ì 

#### ì¥ì 
- ëª¨ë“ˆ ê°„ ì˜ì¡´ì„± ê´€ë¦¬ê°€ ìš©ì´í•˜ë©° ì „ì—­ ìš”ì†Œë¥¼ ì›í•˜ëŠ” ë§Œí¼ ë„˜ê²¨ì£¼ì–´ ë…ë¦½ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- exportë¥¼ ì´ìš©í•´ ì›í•˜ëŠ” ê²ƒë“¤ë§Œ ë…¸ì¶œí•˜ì—¬ ë¹„ê³µê°œë¥¼ ì§€ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì´ë¦„ ì¶©ëŒì— ëŒ€í•œ ê±±ì •ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.

#### ë‹¨ì 
- ê³µê°œì™€ ë¹„ê³µê°œ ìš”ì†Œë¥¼ ì„œë¡œ ë‹¤ë¥´ê²Œ ì ‘ê·¼í•´ì•¼ í•©ë‹ˆë‹¤.
- ê³µê°œ/ë¹„ê³µê°œ ì—¬ë¶€ê°€ ë°”ë€ë‹¤ë©´ íŒŒì¼ì—ì„œ ê°ê° ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.
- ìë™í™” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì—ì„œ ë¹„ê³µê°œ í•¨ìˆ˜ë“¤ì€ í…ŒìŠ¤íŠ¸ê°€ ì–´ë µê³ , ì˜¤ë¥˜ ìˆ˜ì • ì‹œ ì½”ë“œ ë³µì¡ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



## 7.4 ë…¸ì¶œ ëª¨ë“ˆ íŒ¨í„´

### 7.4.1 ë…¸ì¶œ ëª¨ë“ˆ íŒ¨í„´ì˜ ê°œë…

ë…¸ì¶œ ëª¨ë“ˆ íŒ¨í„´ì€ ê¸°ì¡´ ëª¨ë“ˆ íŒ¨í„´ì—ì„œ ê°œì„ ëœ ë²„ì „ìœ¼ë¡œ, ê³µê°œí•˜ê³  ì‹¶ì€ ë¶€ë¶„ë§Œ í¬ì¸í„°ë¥¼ í†µí•´ ë¹„ê³µê°œ ìš”ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```javascript
let privateVar = "Rob Dodson";
const publicVar = "Hey there!";

const privateFunction = () => {
  console.log(`Name:${privateVar}`);
};

const publicSetName = (strName) => {
  privateVar = strName;
};

const publicGetName = () => {
  privateFunction();
};

// ë¹„ê³µê°œ í•¨ìˆ˜ì™€ ì†ì„±ì— ëŒ€í•œ ê³µê°œ í¬ì¸í„° ë…¸ì¶œ
const myRevealingModule = {
  setName: publicSetName,
  greeting: publicVar,
  getName: publicGetName,
};

export default myRevealingModule;
```

### 7.4.2 ë…¸ì¶œ ëª¨ë“ˆ íŒ¨í„´ì˜ í•œê³„

#### ë‹¨ì 
- ë¹„ê³µê°œ í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ê³µê°œ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  - ë¹„ê³µê°œ í•¨ìˆ˜ê°€ ë¹„ê³µê°œ êµ¬í˜„ì„ ì°¸ì¡°í–ˆê¸° ë•Œë¬¸ì—, ìˆ˜ì •í•´ë„ í•¨ìˆ˜ê°€ ë³€ê²½ë  ë¿ ì°¸ì¡°ëœ êµ¬í˜„ì´ ë³€ê²½ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ë¹„ê³µê°œ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ê³µê°œ ê°ì²´ ë©¤ë²„ë„ ìˆ˜ì •ì´ ì–´ë µìŠµë‹ˆë‹¤.
  - `myRevealingModule`ì˜ ìˆ˜ì •ì´ ì–´ë µìŠµë‹ˆë‹¤.

## 7.5 ì‹±ê¸€í†¤ íŒ¨í„´

### 7.5.1 ì‹±ê¸€í†¤ íŒ¨í„´ì˜ ì •ì˜

ì‹±ê¸€í†¤ íŒ¨í„´ì€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì˜¤ì§ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ë„ë¡ ì œí•œí•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì „ì—­ ì ‘ê·¼ì„ í—ˆìš©í•˜ê²Œ ë©ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ê°ì²´ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— **ì‹±ê¸€í†¤ í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ëŒ€ì‹  ê°ì²´ í•˜ë‚˜ë¥¼ ê·¸ëƒ¥ ìƒì„±í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ì„¤ê³„ë¥¼ ë‹¤ì‹œ ê³ ë ¤**í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

### 7.5.2 ì‹±ê¸€í†¤ íŒ¨í„´ ì˜ˆì œ

```javascript
// ê¸°ë³¸ì ì¸ ì‹±ê¸€í†¤ íŒ¨í„´
const Singleton = (function() {
  let instance;
  
  function init() {
    // ì‹±ê¸€í†¤ ê°ì²´
    return {
      name: "ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤",
      getTime() {
        return new Date().toLocaleTimeString();
      }
    };
  }
  
  return {
    getInstance() {
      if (!instance) {
        instance = init();
      }
      return instance;
    }
  };
})();

// ì‚¬ìš© ì˜ˆì‹œ
const a = Singleton.getInstance();
const b = Singleton.getInstance();

console.log(a === b); // true - ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤
console.log(a.getTime()); // í˜„ì¬ ì‹œê°„ ì¶œë ¥
```

### 7.5.3 ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ ì‹±ê¸€í†¤ íŒ¨í„´

```javascript
// logger.js - ES ëª¨ë“ˆ ì‹±ê¸€í†¤
class Logger {
  constructor() {
    // ì´ë¯¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆìœ¼ë©´ ê·¸ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
    if (Logger.instance) {
      return Logger.instance;
    }
    
    this.logs = [];
    this.count = 0;
    Logger.instance = this;
  }
  
  log(message) {
    const timestamp = new Date().toISOString();
    const logEntry = `[${timestamp}] [ë¡œê·¸ #${++this.count}]: ${message}`;
    this.logs.push(logEntry);
    console.log(logEntry);
    return this.count;
  }
  
  getLogs() {
    return [...this.logs];
  }
  
  clearLogs() {
    this.logs = [];
    return "ëª¨ë“  ë¡œê·¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.";
  }
}

// ëª¨ë“ˆë¡œ ë‚´ë³´ë‚´ê¸°
export default new Logger();

// ì‚¬ìš© ì˜ˆì‹œ
// import logger from './logger.js';
// logger.log("ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.");
// logger.log("ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í–ˆìŠµë‹ˆë‹¤.");
// console.log(logger.getLogs()); // ëª¨ë“  ë¡œê·¸ ì¶œë ¥
```

### 7.5.4 ì‹±ê¸€í†¤ íŒ¨í„´ì˜ ì¥ë‹¨ì 

#### ì¥ì 
- í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ìƒì„±ë˜ë¯€ë¡œ ë©”ëª¨ë¦¬ì™€ ìì›ì„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì „ì—­ì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ê°ì²´ê°€ í•œ ë²ˆë§Œ ì´ˆê¸°í™”ë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.

#### ë‹¨ì 
- **ì‹ë³„ì˜ ì–´ë ¤ì›€**: í° ëª¨ë“ˆì„ importí•  ë•Œ ì–´ë–¤ í´ë˜ìŠ¤ê°€ ì‹±ê¸€í†¤ í´ë˜ìŠ¤ì¸ì§€ íŒŒì•…í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
- **í…ŒìŠ¤íŠ¸ì˜ ì–´ë ¤ì›€**: ì‹±ê¸€í†¤ì€ ìˆ¨ê²¨ì§„ ì˜ì¡´ì„±, ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì˜ ì–´ë ¤ì›€, ì˜ì¡´ì„± ëŒ€ì²´ì˜ ì–´ë ¤ì›€ ë“±ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì¡°ì •ì˜ ë³µì¡ì„±**: ì „ì—­ ë²”ìœ„ì— ê±¸ì³ í•„ìš”í•œ ë°ì´í„°(ì¸ì¦ ì •ë³´, ì¿ í‚¤ ë“±)ë¥¼ ì €ì¥í•  ë•Œ í”íˆ ì‚¬ìš©ë˜ì§€ë§Œ, ì´ ë°ì´í„°ê°€ ìœ íš¨í•œ ë’¤ì— ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì˜¬ë°”ë¥¸ ì‹¤í–‰ ìˆœì„œë¥¼ êµ¬í˜„í•˜ëŠ” ì‘ì—…ì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.

## 7.6 í”„ë¡œí† íƒ€ì… íŒ¨í„´

### 7.6.1 í”„ë¡œí† íƒ€ì… íŒ¨í„´ì˜ ê°œë…

í”„ë¡œí† íƒ€ì… íŒ¨í„´ì€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê°ì²´ë¥¼ ë³µì œí•´ ë§Œë“  í…œí”Œë¦¿ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒˆ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì´ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í”„ë¡œí† íƒ€ì… ìƒì†ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

í”„ë¡œí† íƒ€ì… íŒ¨í„´ì€ ìƒì†ì„ êµ¬í˜„í•˜ëŠ” ì‰¬ìš´ ë°©ë²•ì¼ ë¿ ì•„ë‹ˆë¼ ì„±ëŠ¥ì—ì„œë„ ì´ì ì´ ìˆìŠµë‹ˆë‹¤. ê°ì²´ ë‚´ì— í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ ë³µì‚¬ë³¸ì´ ì•„ë‹Œ ì°¸ì¡°ë¡œ ìƒì„±ë˜ì–´ ëª¨ë“  ìì‹ ê°ì²´ê°€ ë™ì¼í•œ í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

### 7.6.2 Object.createì˜ í™œìš©

Object.createë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ê°ì²´ë¡œë¶€í„° ìƒì†í•  ìˆ˜ ìˆìœ¼ë©°, ì°¨ë“± ìƒì†ê³¼ ê°™ì€ ê³ ê¸‰ ê°œë…ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
const myCar = {
  name: 'Ford',
  drive() {
    console.log('ìš´ì „ ì¤‘...');
  }
};

const yourCar = Object.create(myCar);
```

ìœ„ ì½”ë“œì—ì„œ `yourCar`ë¥¼ ìƒì„±í•  ë•Œ `myCar`ì˜ ì†ì„±ë“¤ì´ ëª¨ë‘ `yourCar`ì— ê·¸ëŒ€ë¡œ ìƒì†ë©ë‹ˆë‹¤.

## 7.7 íŒ©í† ë¦¬ íŒ¨í„´

### 7.7.1 íŒ©í† ë¦¬ íŒ¨í„´ì˜ ê°œë…

íŒ©í† ë¦¬ íŒ¨í„´ì€ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì´ëŠ” ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

### 7.7.2 íŒ©í† ë¦¬ íŒ¨í„´ì˜ ì ìš© ì‹œë‚˜ë¦¬ì˜¤

#### íŒ©í† ë¦¬ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ìƒí™©
- ê°ì²´ë‚˜ ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„± ê³¼ì •ì´ ë†’ì€ ë³µì¡ì„±ì„ ê°€ì§€ê³  ìˆì„ ë•Œ
- ìƒí™©ì— ë§ì¶° ë‹¤ì–‘í•œ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í¸ë¦¬í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•  ë•Œ
- ê°™ì€ ì†ì„±ì„ ê³µìœ í•˜ëŠ” ì—¬ëŸ¬ ê°œì˜ ì‘ì€ ê°ì²´ ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ë¤„ì•¼ í•  ë•Œ
- ë• íƒ€ì´í•‘ ê°™ì€ API ê·œì¹™ë§Œ ì¶©ì¡±í•˜ë©´ ë˜ëŠ” ë‹¤ë¥¸ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ì™€ í•¨ê»˜ ê°ì²´ë¥¼ êµ¬ì„±í•  ë•Œ
- ë””ì»¤í”Œë§(decoupling = ê²°í•©ë„ ê°ì†Œ)ì´ í•„ìš”í•  ë•Œ

#### íŒ©í† ë¦¬ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ì€ ìƒí™©
- ê°ì²´ ìƒì„± ì¸í„°í˜ì´ìŠ¤ ì œê³µì´ ì„¤ê³„ ëª©í‘œê°€ ì•„ë‹ˆë¼ë©´ ìì¹« ë¶ˆí•„ìš”í•˜ê²Œ ì½”ë“œ ë³µì¡ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 7.7.3 ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´

ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì€ ê°ì²´ê°€ ì–´ë–»ê²Œ ìƒì„±ë˜ëŠ”ì§€ì— ëŒ€í•œ ì„¸ë¶€ì‚¬í•­ì„ ì•Œ í•„ìš” ì—†ì´ ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ê°ì²´ì˜ ìƒì„± ê³¼ì •ì— ì˜í–¥ì„ ë°›ì§€ ì•Šì•„ì•¼ í•˜ê±°ë‚˜ ì—¬ëŸ¬ íƒ€ì…ì˜ ê°ì²´ë¡œ ì‘ì—…í•´ì•¼ í•˜ëŠ” ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤.

```javascript
class AbstractVehicleFactory {
  constructor() {
    // ì°¨ëŸ‰ íƒ€ì…ì„ ì €ì¥í•˜ëŠ” ê³³
    this.types = {};
  }

  getVehicle(type, customizations) {
    const Vehicle = this.types[type];
    return Vehicle ? new Vehicle(customizations) : null;
  }

  registerVehicle(type, Vehicle) {
    const proto = Vehicle.prototype;
    // ì°¨ëŸ‰ ê¸°ëŠ¥ì„ ì¶©ì¡±í•˜ëŠ” í´ë˜ìŠ¤ë§Œ ë“±ë¡
    if (proto.drive && proto.breakDown) {
      this.types[type] = Vehicle;
    }
    return this;
  }
}
```

## 7.8 êµ¬ì¡° íŒ¨í„´

êµ¬ì¡° íŒ¨í„´ì€ ê°ì²´ë“¤ì´ ë” í° êµ¬ì¡°ë¥¼ í˜•ì„±í•˜ë„ë¡ ì¡°í•©í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ì£¼ìš” êµ¬ì¡° íŒ¨í„´ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆìŠµë‹ˆë‹¤.

- í¼ì‚¬ë“œ íŒ¨í„´
- ë¯¹ìŠ¤ì¸ íŒ¨í„´
- ë°ì½”ë ˆì´í„° íŒ¨í„´
- í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´

## 7.9 í¼ì‚¬ë“œ íŒ¨í„´

### 7.9.1 í¼ì‚¬ë“œ íŒ¨í„´ì˜ ê°œë…

Facadeë€ ì‹¤ì œ ëª¨ìŠµì„ ìˆ¨ê¸°ê³  ê¾¸ë©°ë‚¸ ê²‰ëª¨ìŠµë§Œì„ ì„¸ìƒì— ë“œëŸ¬ë‚´ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. í¼ì‚¬ë“œ íŒ¨í„´ì€
- ì‹¬ì¸µì ì¸ ë³µì¡ì„±ì€ ìˆ¨ê¸°ê³ , ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•œ ë†’ì€ ìˆ˜ì¤€ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
- ë³µì¡í•œ í•˜ìœ„ ì‹œìŠ¤í…œ(ì—¬ëŸ¬ ëª¨ë“ˆ, ê¸°ëŠ¥)ì„ ë‹¨ì¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ê°ì‹¸ "ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•˜ë„ë¡ ë•ëŠ” êµ¬ì¡°"ì…ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ìƒíƒœê³„ì—ì„œëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ì˜ "ë‹¨ì¼ API ë…¸ì¶œ" ì „ëµì—ì„œ ë§ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.

### 7.9.2 í¼ì‚¬ë“œ íŒ¨í„´ì˜ í•µì‹¬ íŠ¹ì§•

- **ë‹¨ìˆœí™”ëœ ì¸í„°í˜ì´ìŠ¤ ì œê³µ**: ë³µì¡í•œ í•˜ìœ„ ì‹œìŠ¤í…œì„ ë‹¨ì¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ìƒí™”í•©ë‹ˆë‹¤.
- **ì˜ì¡´ì„± ìµœì†Œí™”**: ì‚¬ìš©ìê°€ ë‚´ë¶€ êµ¬í˜„ì„ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
- **ì‚¬ìš© í¸ì˜ì„± ì¦ê°€**: ë³µì¡í•œ ë¡œì§ì„ ë‹¨ìˆœí•œ APIë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### 7.9.3 í¼ì‚¬ë“œ íŒ¨í„´ì˜ êµ¬ì¡°

```
í´ë¼ì´ì–¸íŠ¸ â†’ í¼ì‚¬ë“œ â†’ ë‹¤ì–‘í•œ í•˜ìœ„ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸
```

### 7.9.4 ì˜ˆì‹œ: Axios - HTTP ìš”ì²­ì˜ ë³µì¡ì„±ì„ ê°ì¶”ëŠ” í¼ì‚¬ë“œ

AxiosëŠ” ë³µì¡í•œ HTTP í´ë¼ì´ì–¸íŠ¸ ê¸°ëŠ¥ì„ ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µí•©ë‹ˆë‹¤.

ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë³µì¡í•œ ì‹œìŠ¤í…œìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
- **XMLHttpRequest/HTTP í´ë¼ì´ì–¸íŠ¸**: ë¸Œë¼ìš°ì €ì™€ Node.js í™˜ê²½ ëª¨ë‘ì—ì„œ HTTP í†µì‹  ì²˜ë¦¬
- **Promise ì²˜ë¦¬**: ë¹„ë™ê¸° ìš”ì²­ì„ ì§ê´€ì ìœ¼ë¡œ ë‹¤ë£¨ê¸° ìœ„í•œ Promise ê¸°ë°˜ API
- **ìš”ì²­/ì‘ë‹µ ì¸í„°ì…‰í„°**: ìš”ì²­ì´ë‚˜ ì‘ë‹µì„ ìë™ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ ì‹œìŠ¤í…œ
- **ì„¤ì • ë³‘í•© ë¡œì§**: ì „ì—­, ì¸ìŠ¤í„´ìŠ¤, ìš”ì²­ë³„ ì„¤ì •ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ë³‘í•©
- **ì–´ëŒ‘í„° ì‹œìŠ¤í…œ**: í™˜ê²½ì— ë”°ë¼ ì ì ˆí•œ HTTP ì²˜ë¦¬ ë©”ì»¤ë‹ˆì¦˜ ì„ íƒ

#### í¼ì‚¬ë“œ ì¸í„°í˜ì´ìŠ¤ - ë‹¨ìˆœí•˜ê³  ì§ê´€ì ì¸ API

```javascript
// ë³µì¡í•œ ë‚´ë¶€ êµ¬í˜„ì„ ê°ì¶˜ ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤
axios.get('/api/users')
  .then(response => console.log(response.data))
  .catch(error => console.error(error));
```

#### í¼ì‚¬ë“œ API ìœ í˜•

##### 1. ê¸°ë³¸ ì„¤ì • API
ëª¨ë“  ì˜µì…˜ì„ ì§ì ‘ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•œ ì¸í„°í˜ì´ìŠ¤:

```javascript
axios({
  url: '/api/users',
  method: 'GET',
  headers: { 'Authorization': 'Bearer token' },
  timeout: 5000,
  withCredentials: true
});
```

##### 2. ê°„í¸ ë©”ì„œë“œ API
ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì„ ìœ„í•œ ê°„ê²°í•œ ì¸í„°í˜ì´ìŠ¤:

```javascript
// GET ìš”ì²­
axios.get('/api/users');

// POST ìš”ì²­
axios.post('/api/users', { name: 'John', email: 'john@example.com' });

// ê°„í¸ ë©”ì„œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ê¸°ë³¸ APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤
// axios.get(url) â†’ axios({ method: 'get', url })
```

### Axios ë‚´ë¶€ ì•„í‚¤í…ì²˜

| êµ¬ì„± ìš”ì†Œ | ì„¤ëª… | í¼ì‚¬ë“œê°€ ê°ì¶”ëŠ” ë³µì¡ì„± |
|---------|------|-------------------|
| **ì–´ëŒ‘í„°(Adapter)** | í™˜ê²½ì— ë”°ë¼ XHR ë˜ëŠ” Node.js HTTP ëª¨ë“ˆ ì„ íƒ | í™˜ê²½ë³„ HTTP í†µì‹  ì„¸ë¶€ êµ¬í˜„ |
| **ì¸í„°ì…‰í„°(Interceptor)** | ìš”ì²­/ì‘ë‹µ ê°€ë¡œì±„ê¸° ë° ë³€í˜• | ìš”ì²­ ì „ì²˜ë¦¬, ì‘ë‹µ í›„ì²˜ë¦¬ ë¡œì§ |
| **Config ë³‘í•©** | ë‹¤ì–‘í•œ ë ˆë²¨ì˜ ì„¤ì • ì§€ëŠ¥ì  ë³‘í•© | ë³µì¡í•œ ì„¤ì • ìš°ì„ ìˆœìœ„ ê²°ì • ë¡œì§ |
| **Promise ì²´ì¸** | ì¸í„°ì…‰í„°ì™€ ì–´ëŒ‘í„°ë¥¼ ì—°ê²°í•œ ë¹„ë™ê¸° íŒŒì´í”„ë¼ì¸ | ë¹„ë™ê¸° ì‹¤í–‰ ìˆœì„œ ê´€ë¦¬ |
| **ì·¨ì†Œ í† í°** | ìš”ì²­ ì·¨ì†Œ ë©”ì»¤ë‹ˆì¦˜ | AbortController ë˜ëŠ” ì·¨ì†Œ í† í° êµ¬í˜„ |

í¼ì‚¬ë“œ íŒ¨í„´ì˜ í•µì‹¬ ê°€ì¹˜ëŠ” "í•„ìš”í•œ ê²ƒë§Œ ë³´ì—¬ì£¼ê³  ë³µì¡í•œ ê²ƒì€ ê°ì¶˜ë‹¤"ëŠ” ì›ì¹™ì— ìˆìŠµë‹ˆë‹¤. AxiosëŠ” ì´ ì›ì¹™ì— ë”°ë¼ HTTP í†µì‹ ì˜ ë³µì¡ì„±ì„ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µí•©ë‹ˆë‹¤.

### 7.9.5 í¼ì‚¬ë“œ íŒ¨í„´ì˜ ì¥ë‹¨ì 

#### ì¥ì 
- **ì½”ë“œ ë³µì¡ì„± ê°ì†Œ**: ì‚¬ìš©ìëŠ” ë³µì¡í•œ ì‹œìŠ¤í…œì˜ ì„¸ë¶€ì‚¬í•­ì„ ëª°ë¼ë„ ë©ë‹ˆë‹¤.
- **ì˜ì¡´ì„± ë¶„ë¦¬**: í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì™€ í•˜ìœ„ ì‹œìŠ¤í…œ ê°„ ê²°í•©ë„ê°€ ê°ì†Œí•©ë‹ˆë‹¤.
- **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: í¼ì‚¬ë“œë¥¼ í†µí•´ ëª¨ì˜ ê°ì²´(Mock)ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ë‹¨ì 
- **ìœ ì—°ì„± ì œí•œ**: í¼ì‚¬ë“œê°€ ì œê³µí•˜ì§€ ì•ŠëŠ” ê³ ê¸‰ ê¸°ëŠ¥ ì‚¬ìš©ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì˜¤ë²„í—¤ë“œ ê°€ëŠ¥ì„±**: ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ê¹Œì§€ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 7.9.6 ì‹¤ë¬´ ì ìš© ì‹œë‚˜ë¦¬ì˜¤
- ë³µì¡í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜í•‘
- ë ˆê±°ì‹œ ì½”ë“œ í˜„ëŒ€í™”
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ API ê²Œì´íŠ¸ì›¨ì´
- ë‹¤ì–‘í•œ APIë¥¼ í†µí•©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸

## 7.10 ë¯¹ìŠ¤ì¸ íŒ¨í„´

### 7.10.1 ë¯¹ìŠ¤ì¸ íŒ¨í„´ì˜ ê°œë…

ë¯¹ìŠ¤ì¸ íŒ¨í„´ì€ ìµœì†Œí•œì˜ ë³µì¡ì„±ìœ¼ë¡œ ê°ì²´ì˜ ê¸°ëŠ¥ì„ ë¹Œë¦¬ê±°ë‚˜ ìƒì†í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì½”ë“œ ì¬ì‚¬ìš©ì„ ìœ„í•œ íš¨ê³¼ì ì¸ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œëŠ” ë‹¤ìŒ ë§í¬ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ë¯¹ìŠ¤ì¸ ì˜ˆì œ ì½”ë“œ](https://github.com/addyosmani/learning-jsdp/blob/main/ch07/mixins_superclassing.html)

## 7.11 ì„œë¸Œí´ë˜ì‹±

ì„œë¸Œí´ë˜ì‹±ì€ ë¶€ëª¨ í´ë˜ìŠ¤ ê°ì²´ì—ì„œ ì†ì„±ì„ ë°›ì•„ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ìƒì†ì„ êµ¬í˜„í•˜ëŠ” ì£¼ìš” ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

## 7.12 ë¯¹ìŠ¤ì¸

### 7.12.1 ë¯¹ìŠ¤ì¸ì˜ ìƒì„¸ ê°œë…

ë¯¹ìŠ¤ì¸ì€ ìµœì†Œí•œì˜ ë³µì¡ì„±ìœ¼ë¡œ ê°ì²´ì˜ ê¸°ëŠ¥ì„ ë¹Œë¦¬ê±°ë‚˜ ìƒì†í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ë¯¹ìŠ¤ì¸ì€ ë‹¤ë¥¸ ì—¬ëŸ¬ í´ë˜ìŠ¤ë¥¼ ì•„ìš°ë¥´ë©° ì‰½ê²Œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ ê°€ì§„ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ë¯¹ìŠ¤ì¸ì„ í†µí•´ ì—¬ëŸ¬ í´ë˜ìŠ¤ì˜ ê¸°ëŠì„ ì„ì–´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì¥ì 
- ì½”ë“œ ì¬ì‚¬ìš©ì„± ì¦ê°€
- ë‹¤ì¤‘ ìƒì†ê³¼ ìœ ì‚¬í•œ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŒ
- ê¸°ëŠ¥ ëª¨ë“ˆí™”ê°€ ìš©ì´í•¨

#### ë‹¨ì 
- ì‘ì€ ê°ì²´ë“¤ì´ ë§ì´ ìƒì„±ë˜ì–´ ì½”ë“œ ë³µì¡ë„ê°€ ì¦ê°€í•  ìˆ˜ ìˆìŒ
- ë°ì½”ë ˆì´í„° ì²´ì¸ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡ ë””ë²„ê¹…ì´ ì–´ë µê³  ê´€ë¦¬ê°€ í˜ë“¤ì–´ì§
- íŠ¹ì • ë°ì½”ë ˆì´í„°ê°€ ì ìš©ëœ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ
- ìˆœì„œì— ì˜ì¡´ì ì¸ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
- í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ ë°ì½”ë ˆì´í„° íŒ¨í„´ì˜ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì„ ì•Œì•„ì•¼ í•  ê²½ìš°ê°€ ìˆìŒ

### 7.12.3 Reactì™€ ë¯¹ìŠ¤ì¸
ReactëŠ” v0.13 ì´ì „ì— `createClass`ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ ë¯¹ìŠ¤ì¸ì„ ì‚¬ìš©í–ˆìœ¼ë‚˜, í˜„ì¬ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

#### ë¯¹ìŠ¤ì¸ íê¸° ì´ìœ 
- **ì´ë¦„ ì¶©ëŒ**: ì—¬ëŸ¬ ë¯¹ìŠ¤ì¸ì´ ë™ì¼í•œ ì´ë¦„ì˜ ë©”ì„œë“œ/ìƒíƒœë¥¼ ì‚¬ìš©í•  ë•Œ ì¶©ëŒ ë°œìƒ
- **ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€**: ë¯¹ìŠ¤ì¸ ê°„ ì˜ì¡´ì„±ì´ ë³µì¡í•´ì§€ë©´ ì½”ë“œ ì¶”ì ì´ ì–´ë µìŠµë‹ˆë‹¤
- **ES6 í´ë˜ìŠ¤ ë¹„í˜¸í™˜**: ìƒˆë¡œìš´ í´ë˜ìŠ¤ ë¬¸ë²•ì€ ë¯¹ìŠ¤ì¸ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì§€ì›í•˜ì§€ ì•ŠìŒ

#### í˜„ì¬ ê¶Œì¥í•˜ëŠ” ëŒ€ì•ˆ
```javascript
// 1. ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(HOC)
const withFeature = (Component) => {
  return class extends React.Component {
    render() {
      return <Component {...this.props} extraProp={value} />;
    }
  };
};

// 2. Hooks (React 16.8+)
function useFeature() {
  return { result };
}

function MyComponent() {
  const { result } = useFeature();
}
```
ì´ ëŒ€ì•ˆë“¤ì€ ë¯¹ìŠ¤ì¸ë³´ë‹¤ ì½”ë“œ ì¶”ì ì´ ì‰½ê³  ì»´í¬ë„ŒíŠ¸ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.

## 7.13 ë°ì½”ë ˆì´í„° íŒ¨í„´

### 7.13.1 ë°ì½”ë ˆì´í„° íŒ¨í„´ì˜ ê°œë…

ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ ì¬ì‚¬ìš©ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” êµ¬ì¡° íŒ¨í„´ìœ¼ë¡œ, ê°ì²´ ì„œë¸Œí´ë˜ì‹±ì˜ ë‹¤ë¥¸ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ê¸°ì¡´ í´ë˜ìŠ¤ì— ë™ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.

ë°ì½”ë ˆì´í„° íŒ¨í„´ì˜ ì£¼ìš” ëª©ì ì€ ê°ì²´ì˜ ê¸°ë³¸ ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” ìƒì†ì„ í†µí•˜ì§€ ì•Šê³ ë„ ëŸ°íƒ€ì„ì— ê°ì²´ì˜ ë™ì‘ì„ ìˆ˜ì •í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### 7.13.2 ì¸í„°í˜ì´ìŠ¤ì˜ ì—­í• 

ì¸í„°í˜ì´ìŠ¤ëŠ” ê°ì²´ê°€ ê°€ì ¸ì•¼ í•  ë©”ì„œë“œë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ëª…ì‹œì ì¸ ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ì§€ë§Œ, ì•”ë¬µì ì¸ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì„ í†µí•´ ë¹„ìŠ·í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© ì˜ˆì œ

```typescript
// ì¸í„°í˜ì´ìŠ¤ ì •ì˜
interface Vehicle {
  start(): void;
  stop(): void;
  getSpeed(): number;
}

// ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤
class Car implements Vehicle {
  getCost(): number {
    throw new Error("Method not implemented.");
  }
  
  getDescription(): string {
    throw new Error("Method not implemented.");
  }

  start(): void {
    throw new Error("Method not implemented.");
  }
  
  stop(): void {
    throw new Error("Method not implemented.");
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const myCar: Vehicle = new Car();
myCar.start();
```

### 7.13.3 ì¶”ìƒ ë°ì½”ë ˆì´í„°

ì¶”ìƒ ë°ì½”ë ˆì´í„°ëŠ” ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ êµ¬ì¡°í™”í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , ê·¸ í•˜ìœ„ì— êµ¬ì²´ì ì¸ ë°ì½”ë ˆì´í„°ë“¤ì„ êµ¬í˜„í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì´ê³  ë°ì½”ë ˆì´í„° ê°„ì˜ ê³µí†µ ë¡œì§ì„ ì¶”ìƒ í´ë˜ìŠ¤ì— ëª¨ì„ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

ì»¤í”¼ ì£¼ë¬¸ ì‹œìŠ¤í…œì„ ì˜ˆë¡œ ë“¤ë©´,

```typescript
// ì»´í¬ë„ŒíŠ¸ ì¸í„°í˜ì´ìŠ¤
interface Coffee {
  getCost(): number;
  getDescription(): string;
}

// ê¸°ë³¸ ì»¤í”¼ êµ¬í˜„
class SimpleCoffee implements Coffee {
  getCost(): number { return 10; }
  getDescription(): string { return "ê¸°ë³¸ ì»¤í”¼"; }
}

// ì¶”ìƒ ë°ì½”ë ˆì´í„°
abstract class CoffeeDecorator implements Coffee {
  protected coffee: Coffee;
  
  constructor(coffee: Coffee) {
    this.coffee = coffee;
  }
  
  getCost(): number {
    return this.coffee.getCost();
  }
  
  getDescription(): string {
    return this.coffee.getDescription();
  }
}

// êµ¬ì²´ ë°ì½”ë ˆì´í„°ë“¤
class MilkDecorator extends CoffeeDecorator {
  getCost(): number {
    return this.coffee.getCost() + 2;
  }
  
  getDescription(): string {
    return this.coffee.getDescription() + ", ìš°ìœ  ì¶”ê°€";
  }
}

class SugarDecorator extends CoffeeDecorator {
  getCost(): number {
    return this.coffee.getCost() + 1;
  }
  
  getDescription(): string {
    return this.coffee.getDescription() + ", ì„¤íƒ• ì¶”ê°€";
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const coffee = new SimpleCoffee();
console.log(coffee.getDescription()); // "ê¸°ë³¸ ì»¤í”¼"
console.log(coffee.getCost()); // 10

const coffeeWithMilk = new MilkDecorator(coffee);
console.log(coffeeWithMilk.getDescription()); // "ê¸°ë³¸ ì»¤í”¼, ìš°ìœ  ì¶”ê°€"
console.log(coffeeWithMilk.getCost()); // 12

const coffeeWithMilkAndSugar = new SugarDecorator(coffee);
console.log(coffeeWithMilkAndSugar.getDescription()); // "ê¸°ë³¸ ì»¤í”¼, ìš°ìœ  ì¶”ê°€, ì„¤íƒ• ì¶”ê°€"
console.log(coffeeWithMilkAndSugar.getCost()); // 13
```

ì¥ì 
- ë°ì½”ë ˆì´í„° ê°„ ê³µí†µ ë¡œì§ì„ ì¶”ìƒ í´ë˜ìŠ¤ì— ëª¨ì•„ ì½”ë“œ ì¤‘ë³µ ë°©ì§€
- ê°ì²´ ìƒì† ì—†ì´ ê¸°ëŠ¥ í™•ì¥ ê°€ëŠ¥
- ëŸ°íƒ€ì„ì— ë™ì ìœ¼ë¡œ ê°ì²´ ê¸°ëŠ¥ ì¡°í•© ê°€ëŠ¥

ë‹¨ì 
- ì‘ê³  ë¹„ìŠ·í•œ ê°ì²´ë“¤ì´ ë§ì´ ìƒì„±ë˜ì–´ ì½”ë“œ ë³µì¡ë„ê°€ ì¦ê°€í•  ìˆ˜ ìˆìŒ
- íŒ¨í„´ì— ìµìˆ™í•˜ì§€ ì•Šì€ ë‹¤ë¥¸ ê°œë°œìê°€ íŒ¨í„´ì˜ ì‚¬ìš© ëª©ì ì„ íŒŒì•…í•˜ê¸° ì–´ë µê²Œ ë˜ì–´ ê´€ë¦¬ê°€ í˜ë“¤ì–´ì§
- íŠ¹ì • ë°ì½”ë ˆì´í„°ê°€ ì ìš©ëœ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ

## 7.16 í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´
í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì€ ë°˜ë³µë˜ê³  ëŠë¦¬ë©° ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê³µìœ í•˜ëŠ” ì½”ë“œë¥¼ ìµœì í™”í•˜ëŠ” ì „í†µì ì¸ êµ¬ì¡°ì  í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤. 
ì´ íŒ¨í„´ì€ ë§ì€ ìˆ˜ì˜ ìœ ì‚¬í•œ ê°ì²´ë¥¼ í•„ìš”í•  ë•Œ ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ìµœì†Œí™”í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

### 7.16.1 í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ ì‚¬ìš©ë²•
DOMë ˆì´ì–´ì—ë„ ì ìš© ê°€ëŠ¥í•¨. ë¹„ìŠ·í•œ ë™ì‘ í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ëª¨ë“  ìì‹ ìš”ì†Œì—ê²Œ ë§¡ê¸°ë³´ë‹¤ëŠ” ë¶€ëª¨ ìš”ì†Œ ê°™ì€ ì¤‘ì•™ ì´ë²¤íŠ¸ê´€ë¦¬ìì—ê²Œ ë§¡ê¸°ëŠ” ë°©ë²•ì´ ìˆê² ìŒ.

### 7.16.2 ë°ì´í„° ê³µìœ 

#### ë‚´ì¬ì  ìƒíƒœ (intrinsic)
- ê°ì²´ì˜ ë‚´ë¶€ ë©”ì„œë“œì— í•„ìš”í•œ ê²ƒìœ¼ë¡œ, ì´ê²ƒì´ ì—†ìœ¼ë©´ ê°ì²´ê°€ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì—¬ëŸ¬ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê³µìœ ë  ìˆ˜ ìˆëŠ” ê³ ì •ëœ ì •ë³´ì…ë‹ˆë‹¤.

#### ì™¸ì¬ì  ìƒíƒœ (extrinsic)
- ì™¸ì¬ì  ì •ë³´ëŠ” ì œê±°ë˜ì–´ ì™¸ë¶€ì— ì €ì¥ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì»¨í…ìŠ¤íŠ¸ì— ë”°ë¼ ë³€í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.
- ì™¸ì¬ì  ì •ë³´ ë‹¤ë£° ë•Œì—ëŠ” ë”°ë¡œ ê´€ë¦¬ìë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. - í”Œë¼ì´ì›¨ì´íŠ¸ ê°ì²´ì™€ ë‚´ì¬ì  ìƒíƒœ ë³´ê´€í•˜ëŠ” ì¤‘ì•™ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê´€ë¦¬ìë¡œ êµ¬í˜„í•œ ê²ƒ.

### 7.16.3 í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì˜ êµ¬í˜„ ìš”ì†Œ

- **í”Œë¼ì´ì›¨ì´íŠ¸**: ì™¸ë¶€ ìƒíƒœë¥¼ ë°›ì•„ ì‘ë™í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.
- **êµ¬ì²´ì (concrete) í”Œë¼ì´ì›¨ì´íŠ¸**: ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤ì œë¡œ êµ¬í˜„í•˜ê³  ë‚´ë¶€ ìƒíƒœë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ì»¨í…ìŠ¤íŠ¸ ì‚¬ì´ì—ì„œ ê³µìœ ë  ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, ì™¸ë¶€ ìƒíƒœë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- **í”Œë¼ì´ì›¨ì´íŠ¸ íŒ©í† ë¦¬**: ê°œë³„ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•  ë•Œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ê´€ë¦¬í•©ë‹ˆë‹¤.

### 7.16.4 í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ ì˜ˆì œ

í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì€ ìˆ˜ë§ì€ ìœ ì‚¬í•œ ê°ì²´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ì•„ë˜ ì˜ˆì‹œëŠ” ë„ì„œê´€ ì‹œìŠ¤í…œì—ì„œ ì±… ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

#### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì œ
```javascript
// í”Œë¼ì´ì›¨ì´íŠ¸ ê°ì²´
class Book {
  constructor(title, author, genre, ISBN) {
    this.title = title;
    this.author = author;
    this.genre = genre;
    this.ISBN = ISBN;
  }
}

// í”Œë¼ì´ì›¨ì´íŠ¸ íŒ©í† ë¦¬
class BookFactory {
  constructor() {
    this.books = {};
  }

  createBook(title, author, genre, ISBN) {
    // ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì±…ì€ ì¬ì‚¬ìš©
    if (!this.books[ISBN]) {
      this.books[ISBN] = new Book(title, author, genre, ISBN);
    }
    return this.books[ISBN];
  }

  getCount() {
    return Object.keys(this.books).length;
  }
}

// ì»¨í…ìŠ¤íŠ¸ í´ë˜ìŠ¤
class Library {
  constructor() {
    this.factory = new BookFactory();
    this.records = [];
  }

  addBook(title, author, genre, ISBN, isAvailable) {
    const book = this.factory.createBook(title, author, genre, ISBN);
    this.records.push({ book, isAvailable });
  }

  getAvailableBooks() {
    return this.records
      .filter(record => record.isAvailable)
      .map(record => record.book.title);
  }

  getStats() {
    return {
      totalBooks: this.records.length,
      uniqueBooks: this.factory.getCount()
    };
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const library = new Library();

// ì±… ì¶”ê°€ (ì¼ë¶€ ì±…ì€ ISBNì´ ê°™ìŒ)
library.addBook("í•´ë¦¬ í¬í„°", "J.K. ë¡¤ë§", "íŒíƒ€ì§€", "isbn-1", false);
library.addBook("í•´ë¦¬ í¬í„°", "J.K. ë¡¤ë§", "íŒíƒ€ì§€", "isbn-1", true);
library.addBook("1984", "ì¡°ì§€ ì˜¤ì›°", "ë””ìŠ¤í† í”¼ì•„", "isbn-2", true);
library.addBook("1984", "ì¡°ì§€ ì˜¤ì›°", "ë””ìŠ¤í† í”¼ì•„", "isbn-2", false);
library.addBook("ì–´ë¦° ì™•ì", "ìƒí…ì¥í˜ë¦¬", "ë¬¸í•™", "isbn-3", true);

// ê²°ê³¼ í™•ì¸
console.log("ì´ ì±… ìˆ˜:", library.getStats().totalBooks);  // 5
console.log("ê³ ìœ  ì±… ê°ì²´ ìˆ˜:", library.getStats().uniqueBooks);  // 3
console.log("ëŒ€ì¶œ ê°€ëŠ¥í•œ ì±…:", library.getAvailableBooks());  // ["í•´ë¦¬ í¬í„°", "1984", "ì–´ë¦° ì™•ì"]
```



### í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì˜ ì‹¤ì œ ì‘ìš© ì‚¬ë¡€

1. **ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ê¸€ê¼´ ë Œë”ë§**: ê°™ì€ ê¸€ê¼´ì˜ ë¬¸ìë¥¼ ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šê³  ê³µìœ í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ

2. **ê²Œì„ ê°œë°œì—ì„œì˜ ê°ì²´ í’€ë§**: ê²Œì„ ë‚´ ë‹¤ìˆ˜ì˜ ìœ ì‚¬í•œ ê°ì²´(ì˜ˆ: ì´ì•Œ, ì…ì íš¨ê³¼)ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬

3. **ë¬¸ì„œ í¸ì§‘ê¸°**: ê°™ì€ ì„œì‹ì˜ ë¬¸ìë‚˜ ë‹¨ë½ ìŠ¤íƒ€ì¼ì„ ê³µìœ í•˜ì—¬ ëŒ€ìš©ëŸ‰ ë¬¸ì„œ ì²˜ë¦¬ ì†ë„ í–¥ìƒ

4. **ì§€ë„ ì• í”Œë¦¬ì¼€ì´ì…˜**: ìœ ì‚¬í•œ ì§€í˜• íƒ€ì¼ì´ë‚˜ ì•„ì´ì½˜ì„ ì¬ì‚¬ìš©í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš© ìµœì í™”


### 7.16.5 ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ implementsì™€ ë•í€ì¹­ í™œìš©í•˜ê¸°

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ, ë•í€ì¹­ì„ í†µí•´ ìœ ì‚¬í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
// ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ê¸°ëŠ¥ ì¶”ê°€ (ë•í€ì¹­ í™œìš©)
Function.prototype.ImplementsFor = function(...interfaces) {
  const proto = this.prototype;
  
  interfaces.forEach(interface => {
    for (const method in interface) {
      // ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œê°€ í´ë˜ìŠ¤ì— êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸
      if (typeof interface[method] === 'function' && typeof proto[method] !== 'function') {
        throw new Error(`${this.name}ëŠ” ${method} ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤`);
      }
    }
  });
  return this;
};

// ì‚¬ìš© ì˜ˆì‹œ
const IComparable = { compareTo: function(obj) {} };
const ISortable = { sort: function() {} };

function MyClass() { /* ìƒì„±ì */ }
MyClass.ImplementsFor(IComparable, ISortable);

// í•„ìš”í•œ ë©”ì„œë“œ êµ¬í˜„
MyClass.prototype.compareTo = function(obj) { return 0; };
MyClass.prototype.sort = function() { /* êµ¬í˜„ */ };
```

### ë•í€ì¹­ Duck Punching ğŸ¤

ë•í€ì¹­ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê¸°ì¡´ ê°ì²´ì˜ ë™ì‘ì„ ìˆ˜ì •í•˜ê±°ë‚˜ í™•ì¥í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì´ë¦„ì€ "ì˜¤ë¦¬ë¥¼ ì¹˜ëŠ” ê²ƒ"ì²˜ëŸ¼ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê°ì²´ì˜ ë©”ì„œë“œë‚˜ ì†ì„±ì„ ëŸ°íƒ€ì„ì— ë³€ê²½í•˜ëŠ” í–‰ìœ„ë¥¼ ë¹„ìœ í•œ ê²ƒì…ë‹ˆë‹¤.

```javascript
// ì˜ˆì‹œ: Stringì— ìƒˆ ë©”ì„œë“œ ì¶”ê°€
String.prototype.reverse = function() {
  return this.split('').reverse().join('');
};

console.log("Hello".reverse()); // "olleH"
```

ì£¼ë¡œ í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í™œìš©í•´ ê¸°ì¡´ ê°ì²´ì˜ ë©”ì„œë“œ êµì²´, ë„¤ì´í‹°ë¸Œ ê°ì²´ì— ìƒˆ ë©”ì„œë“œ ì¶”ê°€, íŠ¹ì • ì¡°ê±´ì—ì„œ ë©”ì„œë“œ ë™ì‘ ë³€ê²½ ë“±ì— ì‚¬ìš©ë©ë‹ˆë‹¤. 

ê°•ë ¥í•œ ê¸°ë²•ì´ì§€ë§Œ, ì½”ë“œ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ê³¼ ë””ë²„ê¹… ë‚œì´ë„ë¥¼ ê³ ë ¤í•´ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

## 7.17 í–‰ìœ„ íŒ¨í„´

í–‰ìœ„ íŒ¨í„´ì€ ê°ì²´ ê°„ì˜ ìƒí˜¸ ì‘ìš©ê³¼ ì±…ì„ ë¶„ë°°ì— ê´€í•œ íŒ¨í„´ì…ë‹ˆë‹¤. ì£¼ìš” í–‰ìœ„ íŒ¨í„´ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆìŠµë‹ˆë‹¤.

- **ê´€ì°°ì íŒ¨í„´**: ê°ì²´ ê°„ ì¼ëŒ€ë‹¤ ì˜ì¡´ì„±ì„ ì •ì˜í•˜ì—¬ í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ë‹¤ë¥¸ ê°ì²´ë“¤ì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë¦½ë‹ˆë‹¤.
- **ì¤‘ì¬ì íŒ¨í„´**: ê°ì²´ ê°„ì˜ ë³µì¡í•œ í†µì‹ ì„ ìº¡ìŠí™”í•˜ì—¬ ê°ì²´ë“¤ì´ ì„œë¡œ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•Šê³ ë„ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
- **ì»¤ë§¨ë“œ íŒ¨í„´**: ìš”ì²­ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•˜ì—¬ ë§¤ê°œë³€ìˆ˜í™”ëœ í´ë¼ì´ì–¸íŠ¸ë¥¼ íì— ë„£ê³ , ìš”ì²­ì— ëŒ€í•œ ì‘ì—…ì„ ì§€ì›í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ í–‰ìœ„ íŒ¨í„´ë“¤ì€ ê°ì²´ ê°„ì˜ ì˜ì‚¬ì†Œí†µê³¼ í˜‘ë ¥ì„ êµ¬ì¡°í™”í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

## 7.18 ê´€ì°°ì íŒ¨í„´
í•œ ê°ì²´ê°€ ë³€ê²½ ë  ë•Œ ë‹¤ë¥¸ ê°ì²´ë“¤ì— ë³€ê²½ë˜ì—ˆìŒì„ ì•Œë¦´ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´
ëˆ„ê°€ ìì‹ ì„ êµ¬ë…í•˜ëŠ”ì§€ ì•Œ í•„ìš” ì—†ì´ ì•Œë¦¼ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í•œ ê°ì²´ë¥¼ ê´€ì°°í•˜ëŠ” ì—¬ëŸ¬ ê°ì²´ë“¤ì´ ì¡´ì¬í•˜ë©°, ì£¼ì²´ì˜ ìƒíƒœê°€ ë³€í™”í•˜ë©´ ê´€ì°°ìë“¤ì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.
ES2015+ ì—ì„œëŠ” notifyì™€ update ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ í´ë˜ìŠ¤ë¥´ í†µí•´ ì£¼ì²´ì™€ ê´€ì°°ìë¥´ êµ¬í˜„í•¨ìœ¼ë¡œì¨ ê´€ì°°ì íŒ¨í„´ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê´€ì°°ì íŒ¨í„´ì˜ êµ¬ì„± ìš”ì†Œ
- ì£¼ì²´(Subject): ê´€ì°° ëŒ€ìƒì´ ë˜ëŠ” ê°ì²´ë¡œ, ê´€ì°°ìë“¤ì˜ ëª©ë¡ì„ ê´€ë¦¬í•˜ê³  ìƒíƒœ ë³€í™”ê°€ ìˆì„ ë•Œ ëª¨ë“  ê´€ì°°ìì—ê²Œ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.
- ê´€ì°°ì(Observer): ì£¼ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  ë°˜ì‘í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
- êµ¬ì²´ì  ì£¼ì²´(Concrete Subject): ì£¼ì²´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì‹¤ì œ í´ë˜ìŠ¤ë¡œ, ê´€ì°° ëŒ€ìƒì´ ë˜ëŠ” ìƒíƒœì™€ ë°ì´í„°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- êµ¬ì²´ì  ê´€ì°°ì(Concrete Observer): ê´€ì°°ì ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì‹¤ì œ í´ë˜ìŠ¤ë¡œ, ì£¼ì²´ì˜ ìƒíƒœ ë³€í™”ì— ë”°ë¼ íŠ¹ì • ë™ì‘ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

#### ê´€ì°°ì íŒ¨í„´ ì˜ˆì œ ì½”ë“œ

```javascript 
// ì¸í„°í˜ì´ìŠ¤ ì •ì˜
interface Observer { update(data: any): void; }
interface Subject {
  subscribe(observer: Observer): void;
  unsubscribe(observer: Observer): void;
  notify(data: any): void;
}

// ë‰´ìŠ¤ ë°œí–‰ì êµ¬í˜„
class NewsPublisher implements Subject {
  private observers: Observer[] = [];
  private latestNews = '';

  subscribe(observer: Observer): void {
    if (!this.observers.includes(observer)) this.observers.push(observer);
  }

  unsubscribe(observer: Observer): void {
    const index = this.observers.indexOf(observer);
    if (index !== -1) this.observers.splice(index, 1);
  }

  notify(data: any): void {
    this.observers.forEach(observer => observer.update(data));
  }

  publishNews(news: string): void {
    this.latestNews = news;
    console.log(`ìƒˆ ë‰´ìŠ¤: ${news}`);
    this.notify(news);
  }

  getLatestNews(): string { return this.latestNews; }
}

// êµ¬ë…ì êµ¬í˜„
class EmailSubscriber implements Observer {
  constructor(private email: string) {}
  update(news: string): void {
    console.log(`${this.email}ë¡œ ì „ì†¡: ${news}`);
  }
}

class MobileSubscriber implements Observer {
  constructor(private userId: string) {}
  update(news: string): void {
    console.log(`ì‚¬ìš©ì ${this.userId}ì—ê²Œ ì•Œë¦¼: ${news}`);
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const publisher = new NewsPublisher();
const email1 = new EmailSubscriber("user1@example.com");
const email2 = new EmailSubscriber("user2@example.com");
const mobile = new MobileSubscriber("user_123");

// êµ¬ë… ë“±ë¡
publisher.subscribe(email1);
publisher.subscribe(email2);
publisher.subscribe(mobile);

// ë‰´ìŠ¤ ë°œí–‰
publisher.publishNews("ê´€ì°°ì íŒ¨í„´ ëŒ€ì„¸!");

// êµ¬ë… í•´ì§€
publisher.unsubscribe(email2);

// ìƒˆ ë‰´ìŠ¤ ë°œí–‰
publisher.publishNews("êµ¬ë… í•´ì§€í•œ ì‚¬ìš©ìëŠ” ì•Œë¦¼ ë°›ì§€ ì•ŠìŒ");
```

### 7.19 ë°œí–‰/êµ¬ë… íŒ¨í„´
ì‹¤ì œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í™˜ê²½ì—ì„œëŠ” ë°œí–‰/êµ¬ë… íŒ¨í„´ì´ë¼ëŠ” ë³€í˜•ëœ í˜•íƒœì˜ êµ¬í˜„ì´ ë” ë„ë¦¬ ì‚¬ìš©ë¨. ê´€ì°°ì íŒ¨í„´ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ì°¨ì´ì  ì¡´ì¬í•¨.
ë°œí–‰/êµ¬ë… íŒ¨í„´ì—ì„œëŠ” ì´ë²¤íŠ¸ ì•Œë¦¼ì„ ì›í•˜ëŠ” êµ¬ë…ìì™€ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë°œí–‰ì ì‚¬ì´ì— í† í”½/ì´ë²¤íŠ¸ ì±„ë„ì„ ë‘ . ì´ëŸ¬í•œ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ì´ë²¤íŠ¸ ì •ì˜ê°€ ê°€ëŠ¥í•˜ê³  êµ¬ë…ìì—ê²Œ í•„ìš”í•œ ê°’ì´ í¬í•¨ëœ ì»¤ìŠ¤í…€ ì¸ì ì „ë‹¬ ê°€ëŠ¥í•¨.

#### ë°œí–‰/êµ¬ë… íŒ¨í„´ì˜ ìƒì„¸ ì„¤ëª…

ë°œí–‰/êµ¬ë…(Pub/Sub) íŒ¨í„´ì€ ê´€ì°°ì íŒ¨í„´ì˜ í™•ì¥ëœ í˜•íƒœë¡œ ë³¼ ìˆ˜ ìˆìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§‘ë‹ˆë‹¤.

1. **ì´ë²¤íŠ¸ ì±„ë„ì˜ ì¡´ì¬**: ë°œí–‰ìì™€ êµ¬ë…ì ì‚¬ì´ì— ì´ë²¤íŠ¸ ì±„ë„(ë˜ëŠ” ì´ë²¤íŠ¸ ë²„ìŠ¤, ë©”ì‹œì§€ ë¸Œë¡œì»¤)ì´ ìˆì–´ ì§ì ‘ì ì¸ ì˜ì¡´ì„±ì´ ì—†ìŠµë‹ˆë‹¤.
2. **ëŠìŠ¨í•œ ê²°í•©**: ë°œí–‰ìëŠ” êµ¬ë…ìì— ëŒ€í•´ ì•Œ í•„ìš”ê°€ ì—†ê³ , êµ¬ë…ìë„ ë°œí–‰ìë¥¼ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
3. **ë‹¤ì¤‘ ì´ë²¤íŠ¸ íƒ€ì…**: ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ì´ë²¤íŠ¸(í† í”½)ì„ ì •ì˜í•˜ê³  êµ¬ë…ìëŠ” ê´€ì‹¬ ìˆëŠ” ì´ë²¤íŠ¸ë§Œ ì„ íƒì ìœ¼ë¡œ êµ¬ë…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. **ë¹„ë™ê¸°ì  í†µì‹ **: ëŒ€ë¶€ë¶„ì˜ ë°œí–‰/êµ¬ë… ì‹œìŠ¤í…œì€ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

#### ê´€ì°°ì íŒ¨í„´ê³¼ ë°œí–‰/êµ¬ë… íŒ¨í„´ì˜ ì°¨ì´ì 

| íŠ¹ì„± | ê´€ì°°ì íŒ¨í„´ | ë°œí–‰/êµ¬ë… íŒ¨í„´ |
|------|------------|--------------|
| ê²°í•©ë„ | ì£¼ì²´ê°€ ê´€ì°°ìì˜ ì¡´ì¬ë¥¼ ì•Œê³  ìˆìŒ (ì§ì ‘ ì•Œë¦¼) | ë°œí–‰ìì™€ êµ¬ë…ìëŠ” ì„œë¡œë¥¼ ëª¨ë¦„ (ê°„ì ‘ ì•Œë¦¼) |
| ì¤‘ê°„ ë ˆì´ì–´ | ì—†ìŒ (ì£¼ì²´ê°€ ì§ì ‘ ê´€ì°°ìì—ê²Œ ì•Œë¦¼) | ì´ë²¤íŠ¸ ì±„ë„/ë¸Œë¡œì»¤ ì¡´ì¬ |
| í†µì§€ ë°©ì‹ | ëª¨ë“  ê´€ì°°ìì—ê²Œ ë™ì¼í•œ ì•Œë¦¼ ì „ì†¡ | í† í”½/ì´ë²¤íŠ¸ íƒ€ì…ì— ë”°ë¼ ì„ íƒì  êµ¬ë… ê°€ëŠ¥ |
| í™•ì¥ì„± | ì£¼ì²´-ê´€ì°°ì ê°„ 1:n ê´€ê³„ | m:n ê´€ê³„ ê°€ëŠ¥ (ì—¬ëŸ¬ ë°œí–‰ì, ì—¬ëŸ¬ êµ¬ë…ì) |
| êµ¬í˜„ ë³µì¡ì„± | ìƒëŒ€ì ìœ¼ë¡œ ë‹¨ìˆœ | ì¤‘ê°„ ì±„ë„ êµ¬í˜„ìœ¼ë¡œ ì¸í•´ ë” ë³µì¡ |

#### ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ ë°œí–‰/êµ¬ë… íŒ¨í„´ ì˜ˆì œ
```javascript
// ê°„ë‹¨í•œ ë°œí–‰/êµ¬ë… ì‹œìŠ¤í…œ
class EventBus {
  constructor() {
    this.topics = {};
  }

  // ì´ë²¤íŠ¸ êµ¬ë…
  subscribe(topic, callback) {
    if (!this.topics[topic]) this.topics[topic] = [];
    const index = this.topics[topic].push(callback) - 1;
    
    // êµ¬ë… ì·¨ì†Œ í•¨ìˆ˜ ë°˜í™˜
    return {
      unsubscribe: () => {
        this.topics[topic].splice(index, 1);
        if (this.topics[topic].length === 0) delete this.topics[topic];
      }
    };
  }

  // ì´ë²¤íŠ¸ ë°œí–‰
  publish(topic, data) {
    if (!this.topics[topic]?.length) return;
    this.topics[topic].forEach(callback => setTimeout(() => callback(data), 0));
  }
  
  // í† í”½ ì •ë³´ ì¡°íšŒ
  getTopics() {
    return Object.keys(this.topics).map(topic => ({
      topic,
      count: this.topics[topic].length
    }));
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const bus = new EventBus();

// êµ¬ë… ë“±ë¡
const userSub = bus.subscribe('user:login', user => 
  console.log(`ë¡œê·¸ì¸: ${user.name}`));

bus.subscribe('notification', msg => 
  console.log(`ì•Œë¦¼: ${msg.message}`));

bus.subscribe('user:login', user => 
  console.log(`ë¡œê·¸ì¸ ì‹œê°„: ${new Date().toLocaleTimeString()}`));

// ë°œí–‰
bus.publish('user:login', { name: 'í™ê¸¸ë™', id: 1234 });
bus.publish('notification', { message: 'ìƒˆ ë©”ì‹œì§€ ë„ì°©', id: 5678 });

// êµ¬ë… ì·¨ì†Œ
userSub.unsubscribe();

// ì·¨ì†Œ í›„ ë°œí–‰ (ì²« ë²ˆì§¸ ì½œë°±ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)
bus.publish('user:login', { name: 'ê¹€ì² ìˆ˜', id: 5678 });

console.log('í™œì„± í† í”½:', bus.getTopics());
```

#### ì‹¤ë¬´ ì‚¬ë¡€: ì•¡ì„¸ìŠ¤ í† í° ê°±ì‹ ì„ ìœ„í•œ ë°œí–‰/êµ¬ë… íŒ¨í„´ ğŸ“

ì‹¤ë¬´ì—ì„œ Axios interceptorë¥¼ í™œìš©í•´ í† í° ê°±ì‹  ì²˜ë¦¬ êµ¬í˜„ ì‹œ ë°œí–‰/êµ¬ë… íŒ¨í„´ì„ ì ìš©í–ˆë˜ ì‚¬ë¡€ê°€ ìˆì–´ì„œ ë“¤ê³ ì™€ë´¤ìŠµë‹ˆë‹¤.

```typescript
// í•µì‹¬ ë°œí–‰/êµ¬ë… íŒ¨í„´ êµ¬í˜„ ë¶€ë¶„
// 1. êµ¬ë…ì ëª©ë¡ ê´€ë¦¬
let isRefreshing = false;
let refreshSubscribers: ((token: string) => void)[] = []; 

// 2. ë°œí–‰ì: í† í° ê°±ì‹  ê²°ê³¼ë¥¼ ëª¨ë“  êµ¬ë…ìì—ê²Œ ì•Œë¦¼
const onRefreshed = (token: string) => {
  refreshSubscribers.forEach((callback) => callback(token));
  refreshSubscribers = [];
};

// 3. êµ¬ë…ì ë“±ë¡ í•¨ìˆ˜
const addRefreshSubscriber = (callback: (token: string) => void) => {
  refreshSubscribers.push(callback);
};

// ì‘ë‹µ ì¸í„°ì…‰í„° ë‚´ë¶€ êµ¬í˜„
async (error: AxiosError) => {
  // 401 ì¸ì¦ ì˜¤ë¥˜ ì²˜ë¦¬
  if (error.response?.status === 401) {
    const originalRequest = error.config as any;
    
    // ì´ë¯¸ í† í° ê°±ì‹  ì§„í–‰ ì¤‘ì¸ ê²½ìš°: í˜„ì¬ ìš”ì²­ì„ êµ¬ë…ìë¡œ ë“±ë¡
    if (isRefreshing) {
      return new Promise((resolve, reject) => {
        addRefreshSubscriber((token: string) => {
          if (token) {
            // ìƒˆ í† í°ìœ¼ë¡œ ì›ë˜ ìš”ì²­ ì¬ì‹œë„
            originalRequest.headers.Authorization = `Bearer ${token}`;
            resolve(axios(originalRequest));
          } else {
            // í† í° ê°±ì‹  ì‹¤íŒ¨ ì‹œ ìš”ì²­ë„ ì‹¤íŒ¨ ì²˜ë¦¬
            reject(new Error('í† í° ê°±ì‹  ì‹¤íŒ¨'));
          }
        });
      });
    }
    
    // ì²« ë²ˆì§¸ 401 ì—ëŸ¬: í† í° ê°±ì‹  í”„ë¡œì„¸ìŠ¤ ì‹œì‘
    isRefreshing = true;
    
    try {
      // í† í° ê°±ì‹  ìš”ì²­ 
      const newToken = await authService.refreshToken();
      
      // ê°±ì‹  ì„±ê³µ: ìƒˆ í† í°ì„ ëª¨ë“  ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ì— ë°œí–‰
      onRefreshed(newToken);
      
      // ì›ë˜ ìš”ì²­ ì¬ì‹œë„
      originalRequest.headers.Authorization = `Bearer ${newToken}`;
      return axios(originalRequest);
    } catch (error) {
      // ê°±ì‹  ì‹¤íŒ¨: ë¹ˆ í† í°ì„ ë°œí–‰í•˜ì—¬ ëª¨ë“  ìš”ì²­ì´ ì‹¤íŒ¨í•˜ë„ë¡ í•¨
      onRefreshed("");
      return Promise.reject(error);
    } finally {
      isRefreshing = false;
    }
  }
  
  return Promise.reject(error);
}
```

#### íŒ¨í„´ ì„¤ëª…

ìœ„ ì½”ë“œì—ì„œ ë°œí–‰/êµ¬ë… íŒ¨í„´ì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

1. **ë°œí–‰/êµ¬ë… ë©”ì»¤ë‹ˆì¦˜**
   - `refreshSubscribers` ë°°ì—´: í† í° ê°±ì‹ ì„ ê¸°ë‹¤ë¦¬ëŠ” ìš”ì²­ë“¤ì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” êµ¬ë…ì ëª©ë¡
   - `addRefreshSubscriber()`: êµ¬ë…ìë¥¼ ë“±ë¡í•˜ëŠ” í•¨ìˆ˜
   - `onRefreshed()`: í† í° ê°±ì‹  ê²°ê³¼ë¥¼ ëª¨ë“  êµ¬ë…ìì—ê²Œ ì•Œë¦¬ëŠ” ë°œí–‰ í•¨ìˆ˜

2. **ì£¼ìš” ì‹œë‚˜ë¦¬ì˜¤**
   - ì—¬ëŸ¬ API ìš”ì²­ì´ ë™ì‹œì— 401 ì˜¤ë¥˜ë¥¼ ë°›ìœ¼ë©´ ì²« ë²ˆì§¸ ìš”ì²­ë§Œ ê°±ì‹ ì„ ì‹œë„í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” êµ¬ë…ìë¡œ ë“±ë¡
   - ê°±ì‹ ì´ ì„±ê³µí•˜ë©´ ìƒˆ í† í°ì´ ëª¨ë“  êµ¬ë…ìì—ê²Œ ì „íŒŒë˜ì–´ ìë™ìœ¼ë¡œ ì›ë˜ ìš”ì²­ì„ ì¬ì‹œë„
   - ê°±ì‹ ì´ ì‹¤íŒ¨í•˜ë©´ ë¹ˆ í† í°ì´ ì „íŒŒë˜ì–´ ëª¨ë“  ìš”ì²­ì´ ì‹¤íŒ¨ ì²˜ë¦¬ë¨

3. **íŒ¨í„´ ì‚¬ìš©ìœ¼ë¡œ ì–»ì€ íš¨ê³¼**
   - Race Condition ë°©ì§€: ì—¬ëŸ¬ ìš”ì²­ì´ ë™ì‹œì— 401ì„ ë°›ì•„ë„ í† í° ê°±ì‹ ì€ í•œ ë²ˆë§Œ ìˆ˜í–‰
   - ìì› íš¨ìœ¨ì„±: ì¤‘ë³µ ê°±ì‹  ìš”ì²­ ì—†ì´ ë‹¨ì¼ ê°±ì‹ ìœ¼ë¡œ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬
   - ìš°ì•„í•œ ì—ëŸ¬ ì²˜ë¦¬: ê°±ì‹  ê²°ê³¼ê°€ ëª¨ë“  ëŒ€ê¸° ìš”ì²­ì— ì¼ê´€ë˜ê²Œ ì „íŒŒë¨


### ê´€ì°°ì íŒ¨í„´ê³¼ ë°œí–‰/êµ¬ë… íŒ¨í„´ì˜ ì¥ë‹¨ì 
ì¥ì 
- **ëŠìŠ¨í•œ ê²°í•©**: ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ì§ì ‘ì ì¸ ì˜ì¡´ì„±ì„ ì¤„ì—¬ì¤ë‹ˆë‹¤.
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ êµ¬ë…ì/ê´€ì°°ìë¥¼ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì½”ë“œ ì¬ì‚¬ìš©ì„±**: ì§ì ‘ ì—°ê²°ì´ ì•„ë‹Œ ì£¼ì²´ì™€ ê´€ì°°ìì˜ ê´€ê³„ë¡œ ê²°í•©ë„ë¥¼ ë‚®ì¶° ì½”ë“œì˜ ê´€ë¦¬ì™€ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¨ì 
- **ì˜ˆì¸¡ ê°€ëŠ¥ì„± ì €í•˜**: ë°œí–‰ìì™€ êµ¬ë…ìì˜ ì—°ê²°ì„ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íŠ¹ì • ë¶€ë¶„ë“¤ì´ ê¸°ëŒ€í•˜ëŠ” ëŒ€ë¡œ ë™ì‘í•œë‹¤ëŠ” ê²ƒì„ ë³´ì¥í•˜ê¸° ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì˜ì¡´ì„± íŒŒì•… ì–´ë ¤ì›€**: êµ¬ë…ìë“¤ì´ ì„œë¡œì˜ ì¡´ì¬ì— ëŒ€í•´ ì „í˜€ ì•Œ ìˆ˜ ì—†ê³ , ë°œí–‰ìë¥¼ ë³€ê²½í•˜ëŠ” ë° ë“œëŠ” ë¹„ìš©ì„ íŒŒì•…í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
- **ì¶”ì  ë³µì¡ì„±**: êµ¬ë…ìì™€ ë°œí–‰ì ê´€ê³„ê°€ ë™ì ìœ¼ë¡œ ê²°ì •ë˜ê¸°ì— ì–´ë–¤ êµ¬ë…ìê°€ ì–´ë–¤ ë°œí–‰ìì— ì˜ì¡´í•˜ëŠ”ì§€ ì¶”ì í•˜ê¸° ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë¦¬ì•¡íŠ¸ ìƒíƒœê³„ì—ì„œì˜ ê´€ì°°ì íŒ¨í„´
RxJS - ê´€ì°°ì íŒ¨í„´ ì‚¬ìš©í•˜ëŠ” ëŒ€í‘œì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
RxJS(Reactive Extensions for JavaScript)ëŠ” ê´€ì°°ì íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ê°•ë ¥í•œ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë¹„ë™ê¸° ë°ì´í„° ìŠ¤íŠ¸ë¦¼ê³¼ ì´ë²¤íŠ¸ ê¸°ë°˜ í”„ë¡œê·¸ë˜ë°ì„ ì„ ì–¸ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

**RxJSì˜ í•µì‹¬ ê°œë…**
- **Observable**: ì‹œê°„ì— ë”°ë¼ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë‚˜ ë°ì´í„°ì˜ ìŠ¤íŠ¸ë¦¼ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- **Observer**: Observableì„ êµ¬ë…í•˜ê³  ë°ì´í„°ë¥¼ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
- **Subscription**: Observable êµ¬ë…ì˜ ì‹¤í–‰ì„ ë‚˜íƒ€ë‚´ë©°, êµ¬ë…ì„ ì·¨ì†Œí•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.
- **Operators**: í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ Observableì„ ë³€í™˜í•˜ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ë“¤ì…ë‹ˆë‹¤(map, filter, merge ë“±).
- **Subject**: Observableì´ì Observer ì—­í• ì„ ë™ì‹œì— í•  ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ ìœ í˜•ì…ë‹ˆë‹¤.

**RxJS í™œìš© ì˜ˆì‹œ**
```javascript
import { fromEvent } from 'rxjs';
import { map, debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';

// ê²€ìƒ‰ ì…ë ¥ ì²˜ë¦¬
const search$ = fromEvent(document.querySelector('#search'), 'input').pipe(
  map(e => e.target.value),
  debounceTime(300),
  distinctUntilChanged(),
  switchMap(term => fetch(`/api/search?q=${term}`).then(res => res.json()))
);

// êµ¬ë…
const sub = search$.subscribe(results => {
  renderResults(results);
});

// ì •ë¦¬
function unsubscribe() {
  sub.unsubscribe();
}
```

## ì¤‘ì¬ì íŒ¨í„´

### ì¤‘ì¬ì íŒ¨í„´ì˜ ê°œë…

ì¤‘ì¬ì íŒ¨í„´(Mediator Pattern)ì€ ê°ì²´ ê°„ì˜ ë³µì¡í•œ í†µì‹ ê³¼ ì œì–´ë¥¼ ìº¡ìŠí™”í•˜ëŠ” í–‰ìœ„ íŒ¨í„´ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ê°ì²´ ê°„ì˜ ì§ì ‘ì ì¸ ì°¸ì¡°ë¥¼ ì œê±°í•˜ê³ , ì¤‘ì¬ìë¼ëŠ” ì¤‘ì•™ ê°ì²´ë¥¼ í†µí•´ ëª¨ë“  ìƒí˜¸ì‘ìš©ì´ ì´ë£¨ì–´ì§€ë„ë¡ í•©ë‹ˆë‹¤.

ì¤‘ì¬ì íŒ¨í„´ì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” "ê°ì²´ë“¤ì´ ì„œë¡œ ì§ì ‘ í†µì‹ í•˜ì§€ ì•Šê³  ì¤‘ì¬ìë¥¼ í†µí•´ í†µì‹ í•œë‹¤"ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°ì²´ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì¤‘ì¬ì íŒ¨í„´ì˜ êµ¬ì„± ìš”ì†Œ

1. **ì¤‘ì¬ì(Mediator)**: ê°ì²´ ê°„ í†µì‹ ì„ ì¡°ì •í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
2. **êµ¬ì²´ì  ì¤‘ì¬ì(Concrete Mediator)**: ì¤‘ì¬ì ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ë™ë£Œ ê°ì²´ ê°„ì˜ ì¡°ì • ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
3. **ë™ë£Œ(Colleague)**: ì¤‘ì¬ìì™€ í†µì‹ í•˜ëŠ” ê°ì²´ë“¤ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
4. **êµ¬ì²´ì  ë™ë£Œ(Concrete Colleague)**: ë™ë£Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ë‹¤ë¥¸ ë™ë£Œì™€ì˜ í†µì‹ ì´ í•„ìš”í•  ë•Œ ì¤‘ì¬ìë¥¼ í†µí•´ ì²˜ë¦¬í•©ë‹ˆë‹¤.

### ì¤‘ì¬ì íŒ¨í„´ ì˜ˆì œ: ì±„íŒ…ë°© ê¸°ëŠ¥

ë‹¤ìŒì€ ì±„íŒ…ë°©ì„ êµ¬í˜„í•œ ì¤‘ì¬ì íŒ¨í„´ì˜ ì˜ˆì œì…ë‹ˆë‹¤.
```javascript
// ì¤‘ì¬ì ì¸í„°í˜ì´ìŠ¤
interface ChatMediator {
  send(message: string, sender: User): void;
  add(user: User): void;
}

// ì°¸ì—¬ì í´ë˜ìŠ¤
class User {
  constructor(private name: string, private mediator: ChatMediator) {
    this.mediator.add(this);
  }

  getName(): string { return this.name; }

  send(message: string): void {
    console.log(`${this.name} ë³´ëƒ„: ${message}`);
    this.mediator.send(message, this);
  }

  receive(message: string, sender: User): void {
    console.log(`${this.name} ë°›ìŒ: ${message} (ë°œì‹ : ${sender.getName()})`);
  }
}

// êµ¬ì²´ì  ì¤‘ì¬ì êµ¬í˜„
class ChatRoom implements ChatMediator {
  private users: User[] = [];

  add(user: User): void {
    this.users.push(user);
    console.log(`${user.getName()} ì…ì¥`);
  }

  send(message: string, sender: User): void {
    // ë°œì‹ ì ì œì™¸ ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì „ë‹¬
    this.users
      .filter(user => user !== sender)
      .forEach(user => user.receive(message, sender));
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const room = new ChatRoom();
const user1 = new User('ì² ìˆ˜', room);
const user2 = new User('ì˜í¬', room);
const user3 = new User('ë¯¼ìˆ˜', room);

user1.send('ì•ˆë…•í•˜ì„¸ìš”!');
user2.send('ë°˜ê°‘ìŠµë‹ˆë‹¤!');
```
ìœ„ ì˜ˆì œì—ì„œ
- `ChatMediator`ëŠ” ì¤‘ì¬ì ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.
- `ChatRoom`ì€ êµ¬ì²´ì  ì¤‘ì¬ìë¡œ, ì‚¬ìš©ì ê°„ì˜ ë©”ì‹œì§€ ì „ë‹¬ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
- `User`ëŠ” ë™ë£Œ í´ë˜ìŠ¤ë¡œ, ì¤‘ì¬ìë¥¼ í†µí•´ ë‹¤ë¥¸ ì‚¬ìš©ìì™€ í†µì‹ í•©ë‹ˆë‹¤.

### ì¤‘ì¬ì íŒ¨í„´ì˜ ì¥ë‹¨ì 

#### ì¥ì 
1. **ê²°í•©ë„ ê°ì†Œ**: ê°ì²´ ê°„ ì§ì ‘ ì°¸ì¡°ê°€ ì—†ì–´ ê²°í•©ë„ê°€ ë‚®ì•„ì§‘ë‹ˆë‹¤.
2. **ì¬ì‚¬ìš©ì„± í–¥ìƒ**: ë™ë£Œ ê°ì²´ëŠ” ì¤‘ì¬ìì™€ë§Œ í†µì‹ í•˜ë¯€ë¡œ ë‹¤ë¥¸ ì¤‘ì¬ìì™€ í•¨ê»˜ ì¬ì‚¬ìš©í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.
3. **ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ **: ê°ì²´ ê°„ í†µì‹  ë¡œì§ì´ ì¤‘ì•™í™”ë˜ì–´ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•©ë‹ˆë‹¤.
4. **ë‹¨ì¼ ì±…ì„ ì›ì¹™**: í†µì‹  ë¡œì§ì´ ì¤‘ì¬ìì— ì§‘ì¤‘ë˜ì–´ ë™ë£Œ ê°ì²´ëŠ” ìì‹ ì˜ í•µì‹¬ ê¸°ëŠ¥ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ë‹¨ì 
1. **ì¤‘ì¬ì ë³µì¡í™”**: ì‹œìŠ¤í…œì´ ë³µì¡í•´ì§ˆìˆ˜ë¡ ì¤‘ì¬ìê°€ ë³µì¡í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. **ì¤‘ì•™ ì§‘ì¤‘í™”**: ì¤‘ì¬ìê°€ ë‹¨ì¼ ì‹¤íŒ¨ ì§€ì (Single Point of Failure)ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ**: ëª¨ë“  í†µì‹ ì´ ì¤‘ì¬ìë¥¼ ê±°ì¹˜ë¯€ë¡œ ì§ì ‘ í†µì‹ ë³´ë‹¤ ì•½ê°„ì˜ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì»¤ë§¨ë“œ íŒ¨í„´

### ì»¤ë§¨ë“œ íŒ¨í„´ì˜ ê°œë…

ì»¤ë§¨ë“œ íŒ¨í„´(Command Pattern)ì€ ìš”ì²­ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì™€ ìˆ˜ì‹ ì ê°„ì˜ ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•˜ëŠ” í–‰ìœ„ íŒ¨í„´ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ìš”ì²­ì„ íì— ì €ì¥í•˜ê±°ë‚˜ ë¡œê·¸ë¡œ ê¸°ë¡í•˜ê³ , ì‘ì—…ì„ ì·¨ì†Œí•˜ëŠ” ë“±ì˜ ê¸°ëŠ¥ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì»¤ë§¨ë“œ íŒ¨í„´ì˜ í•µì‹¬ì€ "í•˜ë‚˜ì˜ í–‰ë™ì„ ê°ì²´ë¡œ í‘œí˜„"í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ëª…ë ¹ì„ ë§¤ê°œë³€ìˆ˜í™”í•˜ê³ , ì§€ì—° ì‹¤í–‰, ëª…ë ¹ í, ì‹¤í–‰ ì·¨ì†Œ(Undo) ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì»¤ë§¨ë“œ íŒ¨í„´ì˜ êµ¬ì„± ìš”ì†Œ

1. **ì»¤ë§¨ë“œ(Command)**: ì‘ì—… ìˆ˜í–‰ì— í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.
2. **êµ¬ì²´ì  ì»¤ë§¨ë“œ(Concrete Command)**: ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆ˜ì‹ ì ê°ì²´ì™€ ì‘ì—…ì„ ì—°ê²°í•©ë‹ˆë‹¤.
3. **ìˆ˜ì‹ ì(Receiver)**: ì‹¤ì œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
4. **í˜¸ì¶œì(Invoker)**: ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì €ì¥í•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤.
5. **í´ë¼ì´ì–¸íŠ¸(Client)**: êµ¬ì²´ì  ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ìˆ˜ì‹ ìë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

### ì»¤ë§¨ë“œ íŒ¨í„´ ì˜ˆì œ: ë¦¬ëª¨ì»¨ ì‹œìŠ¤í…œ
ë‹¤ìŒì€ TVì™€ ì¡°ëª…ì„ ì œì–´í•˜ëŠ” ë¦¬ëª¨ì»¨ ì‹œìŠ¤í…œì˜ ì˜ˆì œì…ë‹ˆë‹¤.

```javascript
// ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤
interface Command {
  execute(): void;
  undo(): void;
}

// ìˆ˜ì‹ ì í´ë˜ìŠ¤ë“¤
class Device {
  protected isOn = false;
  constructor(protected name: string) {}
  
  on(): void {
    this.isOn = true;
    console.log(`${this.name} ì¼œì§`);
  }
  
  off(): void {
    this.isOn = false;
    console.log(`${this.name} êº¼ì§`);
  }
}

class TV extends Device {
  setVolume(level: number): void {
    console.log(`${this.name} ë³¼ë¥¨: ${level}`);
  }
}

class Light extends Device {}

// ì»¤ë§¨ë“œ êµ¬í˜„
class PowerCommand implements Command {
  constructor(
    private device: Device,
    private powerOn: boolean
  ) {}
  
  execute(): void {
    this.powerOn ? this.device.on() : this.device.off();
  }
  
  undo(): void {
    this.powerOn ? this.device.off() : this.device.on();
  }
}

// ë¦¬ëª¨ì»¨ (í˜¸ì¶œì)
class Remote {
  private commands: Command[][] = [];
  private lastCommand: Command | null = null;
  
  addButton(onCmd: Command, offCmd: Command): number {
    const slot = this.commands.length;
    this.commands.push([onCmd, offCmd]);
    return slot;
  }
  
  press(slot: number, on: boolean): void {
    if (slot >= this.commands.length) return;
    const cmd = this.commands[slot][on ? 0 : 1];
    cmd.execute();
    this.lastCommand = cmd;
  }
  
  undo(): void {
    this.lastCommand?.undo();
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const tv = new TV("ê±°ì‹¤TV");
const light = new Light("ì£¼ë°©ë“±");

const remote = new Remote();

// ë²„íŠ¼ ë“±ë¡
const tvBtn = remote.addButton(
  new PowerCommand(tv, true),
  new PowerCommand(tv, false)
);

const lightBtn = remote.addButton(
  new PowerCommand(light, true), 
  new PowerCommand(light, false)
);

// ë¦¬ëª¨ì»¨ ì‚¬ìš©
remote.press(tvBtn, true);     // ê±°ì‹¤TV ì¼œì§
remote.press(lightBtn, true);  // ì£¼ë°©ë“± ì¼œì§
remote.undo();                 // ì£¼ë°©ë“± êº¼ì§
remote.press(tvBtn, false);    // ê±°ì‹¤TV êº¼ì§
```

### ì»¤ë§¨ë“œ íŒ¨í„´ì˜ ì¥ë‹¨ì 

#### ì¥ì 
1. **ë‹¨ì¼ ì±…ì„ ì›ì¹™**: ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê°ì²´ì™€ ì‘ì—…ì„ í˜¸ì¶œí•˜ëŠ” ê°ì²´ë¥¼ ë¶„ë¦¬í•©ë‹ˆë‹¤.
2. **ê°œë°©/íì‡„ ì›ì¹™**: ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ì»¤ë§¨ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **ì‘ì—… ì·¨ì†Œ(Undo)**: ì´ì „ ìƒíƒœë¥¼ ì €ì¥í•˜ë©´ ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. **ì‘ì—… í ë° ë¡œê·¸**: ëª…ë ¹ì„ ê°ì²´ë¡œ ì €ì¥í•˜ì—¬ íì— ë„£ê±°ë‚˜ ë¡œê·¸ë¡œ ê¸°ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
5. **íŠ¸ëœì­ì…˜**: ì—¬ëŸ¬ ëª…ë ¹ì„ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ ì›ìì ìœ¼ë¡œ ì‹¤í–‰í•˜ê±°ë‚˜ ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ë‹¨ì 
1. **ì½”ë“œ ë³µì¡ì„± ì¦ê°€**: ê°„ë‹¨í•œ ì‘ì—…ì—ë„ ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ í•„ìš”í•˜ì—¬ ì½”ë“œê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. **í´ë˜ìŠ¤ ìˆ˜ ì¦ê°€**: ê° ëª…ë ¹ë§ˆë‹¤ ë³„ë„ì˜ í´ë˜ìŠ¤ê°€ í•„ìš”í•˜ì—¬ í´ë˜ìŠ¤ ìˆ˜ê°€ ë§ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
