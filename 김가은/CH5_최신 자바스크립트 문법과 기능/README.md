# 최신 자바스크립트 문법과 기능
디자인 패턴의 다양한 유형인 생성, 구조, 행위 패턴

<br />

## 5.1 애플리케이션 분리의 중요성
- 모듈형 자바스크립트는 애플리케이션을 모듈이라는 단위로 쪼갤 수 있음
- 모듈형이라는 것은 잘게 분리된 모듈로 구성되었다는 것
- 느슨한 결합은 의존성을 낮추어 유지보수를 용이하게 만듦
- 어느 한 부분의 변경이 다른 부분에 어떤 영향을 미칠지 쉽게 알 수 있음

<br />

## 5.2 모듈 가져오기와 내보내기
### import
- 내보내기된 모듈을 지역 변수로 가져올 수 있음
- 이름을 바꿔서 가져와 기존 변수명과 충돌을 피할 수 있음

### export
- 지역 모듈을 외부에서 읽을 수 있지만 수정할 수 없도록 만들 수 있음
- 직속 하위 모듈을 내보낼 수 있지만 외부에서 정의된 모듈은 내보낼 수 없음
- 이름을 바꿔 내보낼 수 있음

### nomodule
- <script> 태그의 type에 "module"을 명시하여 브라우저에 모듈임을 알릴 수 있고, nomodule 속성을 명시하여 브라우저에 모듈이 아님을 알려줄 수 있음
- 모듈 문법을 사용하지 않는 대체 스크립트에 유용
- 모듈을 지원하지 않는 브라우저에서도 기능이 제대로 작동할 수 있도록 함

<br />

## 5.2 모듈 객체
- 모듈을 객체로 가져오면 모듈 리소스를 깔끔하게 가져올 수 있음
- 객체 하나만으로 여러 곳에 사용할 수 있음

<br />

## 5.4 외부 소스로부터 가져오는 모듈
- ES2015부터 외부 소스에서 가져오는 원격 모듈을 쉽게 가져올 수 있게 됨
- 서트 파티 라이브러리 등

<br />

## 5.5 정적으로 모듈 가져오기
- 메인 코드를 실행하기 전 먼저 모듈을 다운로드하고 실행해야 함
- 초기 페이지 로드 시 많은 코드를 미리 로드해야 해 성능에 문제 생길 수 있음

<br />

## 5.6 동적으로 모듈 가져오기
- 지연 로딩 (lazy-loading) 모듈을 사용하여 모듈을 필요한 시점에 로드할 수 있음
- import(url)는 요청된 모듈의 네임스페이스 객체에 대한 프로미스 객체 반환
- 프로미스 객체는 모듈 자체와 모든 모듈 의존성을 가져온 후, 인스턴스화하고 평가한 뒤에 만들어짐
- await과 함께 사용할 수 있음
- 동적 가져오기 사용 시 모듈이 사용될 때만 다운로드되고 실행됨

<br />

## 5.6.1 사용자 상호작용에 따라 가져오기
- 일부 기능은 사용자가 컴포넌트와 상호작용할 때 로드되는 것이 좋음
- lodash.sortby 모듈

<br />

## 5.6.2 화면에 보이면 가져오기
- IntersectionObserver API를 사용하면 컴포넌트가 화면에 보이는지 감지할 수 있음

<br />

## 5.7 서버에서 모듈 사용하기
- Node 15.3.0 버전 이상에서는 자바스크립트 모듈 지원
- type이 module이라면, .mjs와 .js로 끝나는 파일을 자바스크립트 모듈로 취급

<br />

## 5.8 모듈을 사용하면 생기는 이점
- **한 번만 실행**: 기존 스크립트는 DOM에 추가될 때마다 실행되지만, 모듈 스크립트는 한 번만 실행됨. 가장 내부에 위치한 모듈이 먼저 평가되고 여기에 의존하는 모듈에 접근할 수 있음
- **자동으로 지연 로드**: defer 속성을 붙이지 않아도 자동으로 지연 로드됨
- **유지보수와 재사용이 쉬움**: 다른 모듈에 영향을 주지 않고 독립적으로 실행될 수 있는 코드 조각으로 관리되므로, 여러 다른 함수에서 코드 재사용 가능
- **네임스페이스 제공**: 관련 변수와 상수를 위한 개별 공간을 생성하여 글로벌 네임스페이스를 오염시키지 않음
- **사용하지 않는 코드 제거**: 웹팩이나 롤업과 같은 번들러를 사용해 사용하지 않는 모듈 자동으로 제거 가능 (트리 쉐이킹)

<br />

## 5.9 생성자, 게터, 세터를 가진 클래스
- class 키워드를 통해 사용
- Getter, Setter를 가질 수 있음
- extends 키워드를 통해 클래스 상속받기 가능
- super 키워드로 부모 클래스 생성자 실행 가능
- #를 통해 클래스 내부 멤버를 비공개로 정의 가능
- static 키워드를 통해 정적 메서드와 프로퍼티 정의 가능

<br />

## 5.10 자바스크립트 프레임워크와 클래스
리액트 Hooks를 통해 클래스를 사용하지 않고도 리액트의 상태와 라이프사이클 다룰 수 있음