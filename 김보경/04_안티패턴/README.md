## 04. 안티 패턴

> 엔지니어는 가끔...? ㄴㄴ 종종 마감기한에 쫒기거나 코드 검토 없이 패치를 해야 하는 경우가 생기기도 합니다.
> 이럴 때 코드를 신중하게 작성하지 않아 자칫하면 **안티 패턴** 을 유발할 수 있습니다.
> 이번 장에서는 안티 패턴이란 무엇이고, 어떻게 판별하는지 그리고 JS에서 볼 수 있는 안티 패턴 유형을 이해할 수 있습니다.

### 04-1. 안티 패턴이란?

> 안티 패턴은 겉으로만 해결책처럼 생긴 패턴을 뜻합니다.
>
> - 문제 상황에 대한 잘못된 해결책
> - 문제 상황에서 벗어나 올바른 해결책에 이르는 방법
>
> 모든 설계 문제는 두 개의 개체 간의 조화를 추구하는 노력에서 시작됩니다. 예를들어, 문제의 솔루션인 형태와 문제를 정의하는 컨텍스트 사이처럼 말입니다. - 알렉산더

애플리케이션을 만들 때 프로텍트의 라이프사이클은 개발과 함께 시작됩니다. 이 단계에서 어떤 좋은 디자인 패턴이 프로젝트에 적합할지 선택하게 될 것입니다. 그러나 초기 설정 단계는 금방 지나고, 어느새 유지보수 단계가 오게 됩니다.

- 운영중인 애플리케이션에 익숙하지 않은 개발자가 실수로 나쁜 디자인 패턴을 도입할 수 있습니다.
  - 나쁜 디자인 패턴이 안티 패턴이라는 것을 빠르게 인지할 수 있다면 개발자는 패턴을 잘못 도입하는 실수를 피할 수 있습니다
- 애플리케이션의 품질은 팀의 기술 레벨과 투자한 시간에 따라 **좋아질 수도, 나빠질 수도** 있습니다.

### 04-2. 자바스크립트 안티 패턴

개발자는 가끔 신속한 구현을 위해 임시방편을 선택하기도 합니다. 그러나 이러한 임시방편은 영구적으로 이어지는 경향이 있으며, 결국 기술 부채가 되어 안태 패턴이 되곤 합니다.
자바스크립트는 느슨한 타입 언어이기 때문에 특히 이런 경향이 두드러집니다.
(변수에 저장된 값의 자료형을 명확하게 정의하지 않아도 된다는 의미입니다.)

#### 자바스크립트의 안티패턴 예시

- 전역 컨텍스트에서 수많은 변수를 정의하며 전역 네임스페이스 오염시키기
- setTimeout이나 setInterval 에 함수가 아닌 문자열을 전달해서 내부적으로 `eval()` 실행되게 하기.
- Object 클래스의 프로토타입을 수정하기 (특히 나쁜 안티 패턴)
- 자바스크립트를 인라인으로 사용하여 유연성을 떨어뜨리기.
- document.createElement 대신 document.write 사용하기.
  - document.write 은 페이지가 로드된 뒤에 실행된다면 기존 페이지의 내용을 덮어씌우기 때문에 createElement가 더 적합합니다.
  - 또한 XHTML에서 동작하지 않기 때문에 DOM과 더 친화적인 메서드를 사용하는 것이 좋습니다.

### 04-3. 마치며

안티패턴을 알아볼 수 있게 된다면 코드를 리펙터링해 안티패턴을 제거함으로써 제품의 품질을 유지할 수 있습니다.
